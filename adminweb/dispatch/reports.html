<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="../images/PULSE OG.png" type="image/png" />
  <title>PULSE ADMIN | Reports & Analytics</title>

  <!-- ========== All CSS files linkup ========= -->
  <link rel="stylesheet" href="../admin/assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../admin/assets/css/lineicons.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../admin/assets/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../admin/assets/css/main.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Reports Page Specific Styles */
    .report-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .date-range-picker {
      display: flex;
      align-items: center;
      gap: 10px;
      background: white;
      padding: 10px 15px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }
    
    .date-input {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
    }
    
    .report-actions {
      display: flex;
      gap: 10px;
    }
    
    .btn-report {
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }
    
    .btn-report.primary {
      background: var(--pulse-primary);
      color: white;
      border: none;
    }
    
    .btn-report.secondary {
      background: white;
      color: #333;
      border: 1px solid #ddd;
    }
    
    .btn-report:hover {
      transform: translateY(-1px);
    }
    
    .summary-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .summary-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .summary-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .summary-card-icon {
      width: 45px;
      height: 45px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
    }
    
    .summary-card-icon.total { background: linear-gradient(135deg, #3498db, #2980b9); }
    .summary-card-icon.resolved { background: linear-gradient(135deg, #27ae60, #1e8449); }
    .summary-card-icon.response { background: linear-gradient(135deg, #f39c12, #d68910); }
    .summary-card-icon.satisfaction { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
    
    .summary-trend {
      font-size: 12px;
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: 4px;
    }
    
    .summary-trend.up {
      background: #e8f5e9;
      color: #27ae60;
    }
    
    .summary-trend.down {
      background: #fde8e8;
      color: #e74c3c;
    }
    
    .summary-value {
      font-size: 32px;
      font-weight: 700;
      color: #333;
      margin-bottom: 5px;
    }
    
    .summary-label {
      font-size: 13px;
      color: #666;
    }
    
    .charts-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .chart-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .chart-card.full-width {
      grid-column: span 2;
    }
    
    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .chart-title {
      font-size: 16px;
      font-weight: 600;
      margin: 0;
    }
    
    .chart-actions {
      display: flex;
      gap: 8px;
    }
    
    .chart-action-btn {
      padding: 6px 12px;
      border: 1px solid #ddd;
      background: white;
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .chart-action-btn.active {
      background: var(--pulse-primary);
      color: white;
      border-color: var(--pulse-primary);
    }
    
    .chart-container {
      height: 300px;
      position: relative;
    }
    
    .chart-container.small {
      height: 250px;
    }
    
    /* Top Barangays Table */
    .top-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .top-table th,
    .top-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }
    
    .top-table th {
      font-weight: 600;
      color: #666;
      font-size: 12px;
      text-transform: uppercase;
    }
    
    .rank-badge {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
    }
    
    .rank-badge.gold { background: #fef3e2; color: #f39c12; }
    .rank-badge.silver { background: #f5f5f5; color: #95a5a6; }
    .rank-badge.bronze { background: #fde8e8; color: #cd6155; }
    
    .progress-bar-container {
      width: 100%;
      height: 8px;
      background: #f0f0f0;
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s;
    }
    
    .progress-bar.danger { background: #e74c3c; }
    .progress-bar.warning { background: #f39c12; }
    .progress-bar.success { background: #27ae60; }
    
    @media (max-width: 1024px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }
      
      .chart-card.full-width {
        grid-column: span 1;
      }
    }
    
    @media (max-width: 768px) {
      .report-header {
        flex-direction: column;
        align-items: stretch;
      }
      
      .date-range-picker {
        flex-wrap: wrap;
      }
    }
  </style>
</head>
<body>
  <!-- ======== Preloader =========== -->
  <div id="preloader">
    <div class="spinner"></div>
  </div>
  <!-- ======== Preloader =========== -->

  <!-- ======== sidebar-nav start =========== -->
  <aside class="sidebar-nav-wrapper">
    <div class="navbar-logo">
      <a href="index.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
        <img src="../images/PULSE OG.png" alt="logo" style="width: 45px; height: 45px; object-fit: contain;" />
        <span style="font-size: 18px; font-weight: 600; color: #3b5998;">PULSE Admin</span>
      </a>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <!-- Dashboard -->
        <li class="nav-item">
          <a href="index.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 13H10C10.55 13 11 12.55 11 12V4C11 3.45 10.55 3 10 3H4C3.45 3 3 3.45 3 4V12C3 12.55 3.45 13 4 13ZM4 21H10C10.55 21 11 20.55 11 20V16C11 15.45 10.55 15 10 15H4C3.45 15 3 15.45 3 16V20C3 20.55 3.45 21 4 21ZM14 21H20C20.55 21 21 20.55 21 20V12C21 11.45 20.55 11 20 11H14C13.45 11 13 11.45 13 12V20C13 20.55 13.45 21 14 21ZM13 4V8C13 8.55 13.45 9 14 9H20C20.55 9 21 8.55 21 8V4C21 3.45 20.55 3 20 3H14C13.45 3 13 3.45 13 4Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Dashboard</span>
          </a>
        </li>
        <!-- Emergencies -->
        <li class="nav-item">
          <a href="emergencies.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Emergencies</span>
          </a>
        </li>
        <!-- Map View -->
        <li class="nav-item">
          <a href="map.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM7 11H17V13H7Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Map View</span>
          </a>
        </li>
        <!-- Users -->
        <li class="nav-item">
          <a href="users.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V19C4 19.55 4.45 20 5 20H19C19.55 20 20 19.55 20 19V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Users</span>
          </a>
        </li>
        <!-- Dispatch -->
        <li class="nav-item">
          <a href="dispatch.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 18.5C16.9 18.5 16 19.4 16 20.5C16 21.6 16.9 22.5 18 22.5C19.1 22.5 20 21.6 20 20.5C20 19.4 19.1 18.5 18 18.5ZM19 9L23 17H16V9H19ZM1 6V20C1 21.1 1.9 22 3 22H12.5C12.2 21.4 12 20.7 12 20C12 18.3 13.3 17 15 17C15.2 17 15.4 17 15.6 17H11V13H5V6H1ZM3 12H5V8H3V12ZM1 2H16L22 14V2H1Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Dispatch</span>
          </a>
        </li>
        <!-- Reports -->
        <li class="nav-item active">
          <a href="reports.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM9 17H7V10H9V17ZM13 17H11V7H13V17ZM17 17H15V13H17V17Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Reports</span>
          </a>
        </li>
        <!-- Logs -->
        <li class="nav-item" style="margin-bottom: 15px;">
          <a href="logs.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Logs</span>
          </a>
        </li>
      </ul>
    </nav>
  </aside>
  <div class="overlay"></div>
  <!-- ======== sidebar-nav end =========== -->

  <!-- ======== main-wrapper start =========== -->
  <main class="main-wrapper">
    <!-- ========== header start ========== -->
    <header class="header">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-5 col-md-5 col-6">
            <div class="header-left d-flex align-items-center">
              <div class="menu-toggle-btn mr-15">
                <button id="menu-toggle" class="main-btn primary-btn btn-hover">
                  <i class="lni lni-chevron-left me-2"></i> Menu
                </button>
              </div>
              <div class="header-search d-none d-md-flex">
                <form action="#">
                  <input type="text" placeholder="Search..." />
                  <button><i class="lni lni-search-alt"></i></button>
                </form>
              </div>
            </div>
          </div>
          <div class="col-lg-7 col-md-7 col-6">
            <div class="header-right">
              <!-- notification start -->
              <div class="notification-box ml-15 d-none d-md-flex">
                <button class="dropdown-toggle" type="button" id="notification" data-bs-toggle="dropdown" aria-expanded="false">
                  <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 20.1667C9.88317 20.1667 8.88718 19.63 8.23901 18.7917H13.761C13.113 19.63 12.1169 20.1667 11 20.1667Z" fill="" />
                    <path d="M10.1157 2.74999C10.1157 2.24374 10.5117 1.83333 11 1.83333C11.4883 1.83333 11.8842 2.24374 11.8842 2.74999V2.82604C14.3932 3.26245 16.3051 5.52474 16.3051 8.24999V14.287C16.3051 14.5301 16.3982 14.7633 16.564 14.9352L18.2029 16.6342C18.4814 16.9229 18.2842 17.4167 17.8903 17.4167H4.10961C3.71574 17.4167 3.5185 16.9229 3.797 16.6342L5.43589 14.9352C5.6017 14.7633 5.69485 14.5301 5.69485 14.287V8.24999C5.69485 5.52474 7.60672 3.26245 10.1157 2.82604V2.74999Z" fill="" />
                  </svg>
                  <span></span>
                </button>
              </div>
              <!-- notification end -->
              <!-- message start -->
              <div class="header-message-box ml-15 d-none d-md-flex">
                <button class="dropdown-toggle" type="button" id="message" data-bs-toggle="dropdown" aria-expanded="false">
                  <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.74866 5.97421C7.91444 5.96367 8.08162 5.95833 8.25005 5.95833C12.5532 5.95833 16.0417 9.4468 16.0417 13.75C16.0417 13.9184 16.0364 14.0856 16.0259 14.2514C16.3246 14.138 16.6127 14.003 16.8883 13.8482L19.2306 14.629C19.7858 14.8141 20.3141 14.2858 20.129 13.7306L19.3482 11.3882C19.8694 10.4604 20.1667 9.38996 20.1667 8.25C20.1667 4.70617 17.2939 1.83333 13.75 1.83333C11.0077 1.83333 8.66702 3.55376 7.74866 5.97421Z" fill="" />
                    <path d="M14.6667 13.75C14.6667 17.2938 11.7939 20.1667 8.25004 20.1667C7.11011 20.1667 6.03962 19.8694 5.11182 19.3482L2.76946 20.129C2.21421 20.3141 1.68597 19.7858 1.87105 19.2306L2.65184 16.8882C2.13062 15.9604 1.83338 14.89 1.83338 13.75C1.83338 10.2062 4.70622 7.33333 8.25004 7.33333C11.7939 7.33333 14.6667 10.2062 14.6667 13.75ZM5.95838 13.75C5.95838 13.2437 5.54797 12.8333 5.04171 12.8333C4.53545 12.8333 4.12504 13.2437 4.12504 13.75C4.12504 14.2563 4.53545 14.6667 5.04171 14.6667C5.54797 14.6667 5.95838 14.2563 5.95838 13.75ZM9.16671 13.75C9.16671 13.2437 8.7563 12.8333 8.25004 12.8333C7.74379 12.8333 7.33338 13.2437 7.33338 13.75C7.33338 14.2563 7.74379 14.6667 8.25004 14.6667C8.7563 14.6667 9.16671 14.2563 9.16671 13.75ZM11.4584 14.6667C11.9647 14.6667 12.375 14.2563 12.375 13.75C12.375 13.2437 11.9647 12.8333 11.4584 12.8333C10.9521 12.8333 10.5417 13.2437 10.5417 13.75C10.5417 14.2563 10.9521 14.6667 11.4584 14.6667Z" fill="" />
                  </svg>
                  <span></span>
                </button>
              </div>
              <!-- message end -->
              <!-- profile start -->
              <div class="profile-box ml-15">
                <button class="dropdown-toggle bg-transparent border-0" type="button" id="profile" data-bs-toggle="dropdown" aria-expanded="false">
                  <div class="profile-info">
                    <div class="info">
                      <div class="image">
                        <img src="../admin/assets/images/profile/profile-image.png" alt="" />
                      </div>
                      <div>
                        <h6 class="fw-500">Admin User</h6>
                        <p>Admin</p>
                      </div>
                    </div>
                  </div>
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profile">
                  <li>
                    <a href="#0">
                      <i class="lni lni-user"></i> View Profile
                    </a>
                  </li>
                  <li>
                    <a href="#0">
                      <i class="lni lni-alarm"></i> Notifications
                    </a>
                  </li>
                  <li>
                    <a href="#0"> <i class="lni lni-inbox"></i> Messages </a>
                  </li>
                  <li>
                    <a href="#0"> <i class="lni lni-cog"></i> Settings </a>
                  </li>
                  <li class="divider"></li>
                  <li>
                    <a href="#0"> <i class="lni lni-exit"></i> Sign Out </a>
                  </li>
                </ul>
              </div>
              <!-- profile end -->
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- ========== header end ========== -->

    <!-- ========== section start ========== -->
    <section class="section">
      <div class="container-fluid">
        <!-- ========== title-wrapper start ========== -->
        <div class="title-wrapper pt-30">
          <div class="row align-items-center">
            <div class="col-md-6">
              <div class="title">
                <h2>Reports & Analytics</h2>
              </div>
            </div>
            <!-- end col -->
            <div class="col-md-6">
              <div class="breadcrumb-wrapper">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                      <a href="index.html">Dashboard</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">
                      Reports
                    </li>
                  </ol>
                </nav>
              </div>
            </div>
            <!-- end col -->
          </div>
          <!-- end row -->
        </div>
        <!-- ========== title-wrapper end ========== -->

        <!-- Report Header -->
        <div class="report-header">
        <div class="date-range-picker">
          <i class="fas fa-calendar"></i>
          <input type="date" class="date-input" value="2026-01-01" id="startDate">
          <span>to</span>
          <input type="date" class="date-input" value="2026-02-04" id="endDate">
          <button class="btn-report secondary" onclick="applyDateRange()">Apply</button>
        </div>
        <div class="report-actions">
          <button class="btn-report secondary">
            <i class="fas fa-print"></i>
            Print
          </button>
          <button class="btn-report primary">
            <i class="fas fa-download"></i>
            Export PDF
          </button>
        </div>
      </div>
      
        <!-- Stat Cards -->
        <div class="row">
          <div class="col-xl-3 col-lg-4 col-sm-6">
            <div class="icon-card mb-30">
              <div class="icon" style="background: #e3f2fd;">
                <i class="lni lni-bar-chart" style="color: #3498db;"></i>
              </div>
              <div class="content">
                <h6 class="mb-10">Total Reports</h6>
                <h3 class="text-bold mb-10">2,847</h3>
                <p class="text-sm text-success">
                  <i class="lni lni-arrow-up"></i> +12%
                  <span class="text-gray">this month</span>
                </p>
              </div>
            </div>
          </div>
          <!-- End Col -->
          <div class="col-xl-3 col-lg-4 col-sm-6">
            <div class="icon-card mb-30">
              <div class="icon" style="background: #fef3e2;">
                <i class="lni lni-alert" style="color: #f1c40f;"></i>
              </div>
              <div class="content">
                <h6 class="mb-10">Pending Review</h6>
                <h3 class="text-bold mb-10">196</h3>
                <p class="text-sm" style="color: #f1c40f;">
                  <i class="lni lni-timer"></i> Awaiting Action
                </p>
              </div>
            </div>
          </div>
          <!-- End Col -->
          <div class="col-xl-3 col-lg-4 col-sm-6">
            <div class="icon-card mb-30">
              <div class="icon" style="background: #e8f5e9;">
                <i class="lni lni-checkmark-circle" style="color: #27ae60;"></i>
              </div>
              <div class="content">
                <h6 class="mb-10">Completed Reports</h6>
                <h3 class="text-bold mb-10">2,651</h3>
                <p class="text-sm text-success">
                  <i class="lni lni-arrow-up"></i> +8%
                  <span class="text-gray">this month</span>
                </p>
              </div>
            </div>
          </div>
          <!-- End Col -->
          <div class="col-xl-3 col-lg-4 col-sm-6">
            <div class="icon-card mb-30">
              <div class="icon" style="background: #f3e5f5;">
                <i class="lni lni-timer" style="color: #9b59b6;"></i>
              </div>
              <div class="content">
                <h6 class="mb-10">Avg Response Time</h6>
                <h3 class="text-bold mb-10">6.8 min</h3>
                <p class="text-sm text-success">
                  <i class="lni lni-arrow-down"></i> -15%
                  <span class="text-gray">vs last month</span>
                </p>
              </div>
            </div>
          </div>
          <!-- End Col -->
        </div>
        <!-- End Row -->
      
      <!-- Charts -->
      <div class="charts-grid">
        <!-- Daily Incidents Chart -->
        <div class="chart-card full-width">
          <div class="chart-header">
            <h3 class="chart-title">Daily Incident Count</h3>
            <div class="chart-actions">
              <button class="chart-action-btn active" data-period="week">Week</button>
              <button class="chart-action-btn" data-period="month">Month</button>
              <button class="chart-action-btn" data-period="year">Year</button>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="dailyIncidentsChart"></canvas>
          </div>
        </div>
        
        <!-- Emergency Types Chart -->
        <div class="chart-card">
          <div class="chart-header">
            <h3 class="chart-title">Emergency Types Distribution</h3>
          </div>
          <div class="chart-container small">
            <canvas id="emergencyTypesChart"></canvas>
          </div>
        </div>
        
        <!-- Response Time Chart -->
        <div class="chart-card">
          <div class="chart-header">
            <h3 class="chart-title">Response Time Trend</h3>
          </div>
          <div class="chart-container small">
            <canvas id="responseTimeChart"></canvas>
          </div>
        </div>
        
        <!-- Hourly Distribution -->
        <div class="chart-card">
          <div class="chart-header">
            <h3 class="chart-title">Hourly Distribution</h3>
          </div>
          <div class="chart-container small">
            <canvas id="hourlyChart"></canvas>
          </div>
        </div>
        
        <!-- Top Barangays -->
        <div class="chart-card">
          <div class="chart-header">
            <h3 class="chart-title">Top Barangays by Incidents</h3>
          </div>
          <table class="top-table">
            <thead>
              <tr>
                <th>Rank</th>
                <th>Barangay</th>
                <th>Incidents</th>
                <th>Distribution</th>
              </tr>
            </thead>
            <tbody id="topBarangaysTable">
              <!-- Populated by JS -->
            </tbody>
          </table>
        </div>
      </div>
    </section>
    <!-- ========== section end ========== -->
  </main>
  <!-- ======== main-wrapper end =========== -->

  <!-- ========= All Javascript files linkup ======== -->
  <script src="../admin/assets/js/bootstrap.bundle.min.js"></script>
  <script src="../admin/assets/js/main.js"></script>
  <script src="js/mock-data.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      initializePage();
      initializeCharts();
      populateTopBarangays();
    });
    
    function initializePage() {
      updateCurrentTime();
      setInterval(updateCurrentTime, 1000);
    }
    
    function updateCurrentTime() {
      const timeElement = document.getElementById('currentTime');
      if (timeElement) {
        timeElement.textContent = new Date().toLocaleTimeString('en-US', {
          hour: '2-digit', minute: '2-digit', second: '2-digit'
        });
      }
    }
    
    function initializeCharts() {
      // Daily Incidents Chart
      new Chart(document.getElementById('dailyIncidentsChart'), {
        type: 'line',
        data: {
          labels: ['Jan 29', 'Jan 30', 'Jan 31', 'Feb 1', 'Feb 2', 'Feb 3', 'Feb 4'],
          datasets: [{
            label: 'Incidents',
            data: [45, 52, 38, 61, 55, 42, 48],
            borderColor: '#3498db',
            backgroundColor: 'rgba(52, 152, 219, 0.1)',
            fill: true,
            tension: 0.4,
            pointBackgroundColor: '#3498db',
            pointRadius: 5
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          scales: {
            y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.05)' } },
            x: { grid: { display: false } }
          }
        }
      });
      
      // Emergency Types Chart
      new Chart(document.getElementById('emergencyTypesChart'), {
        type: 'doughnut',
        data: {
          labels: ['Medical', 'Fire', 'Crime', 'Disaster', 'Rescue'],
          datasets: [{
            data: [35, 18, 25, 8, 14],
            backgroundColor: ['#e74c3c', '#f39c12', '#3498db', '#9b59b6', '#1abc9c'],
            borderWidth: 0
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '60%',
          plugins: {
            legend: {
              position: 'right',
              labels: { boxWidth: 12, padding: 15 }
            }
          }
        }
      });
      
      // Response Time Chart
      new Chart(document.getElementById('responseTimeChart'), {
        type: 'bar',
        data: {
          labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
          datasets: [{
            label: 'Minutes',
            data: [7.2, 6.8, 7.5, 6.5, 6.9, 7.1, 6.8],
            backgroundColor: 'rgba(39, 174, 96, 0.8)',
            borderRadius: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          scales: {
            y: { beginAtZero: true, max: 10, grid: { color: 'rgba(0,0,0,0.05)' } },
            x: { grid: { display: false } }
          }
        }
      });
      
      // Hourly Distribution Chart
      const hourlyCtx = document.getElementById('hourlyChart');
      if (hourlyCtx) {
        new Chart(hourlyCtx, {
        type: 'bar',
        data: {
          labels: ['12AM', '3AM', '6AM', '9AM', '12PM', '3PM', '6PM', '9PM'],
          datasets: [{
            label: 'Incidents',
            data: [8, 5, 12, 25, 32, 28, 35, 22],
            backgroundColor: 'rgba(52, 152, 219, 0.8)',
            borderRadius: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          scales: {
            y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.05)' } },
            x: { grid: { display: false } }
          }
        }
      });
      }
    }
    
    function populateTopBarangays() {
      const table = document.getElementById('topBarangaysTable');
      const data = [
        { name: 'Greenhills', count: 156, percentage: 100 },
        { name: 'Addition Hills', count: 134, percentage: 86 },
        { name: 'Batis', count: 112, percentage: 72 },
        { name: 'Little Baguio', count: 98, percentage: 63 },
        { name: 'Corazon de Jesus', count: 87, percentage: 56 }
      ];
      
      table.innerHTML = data.map((item, index) => {
        const rankClass = index === 0 ? 'gold' : index === 1 ? 'silver' : index === 2 ? 'bronze' : '';
        const barClass = item.percentage > 80 ? 'danger' : item.percentage > 60 ? 'warning' : 'success';
        
        return `
          <tr>
            <td><span class="rank-badge ${rankClass}">${index + 1}</span></td>
            <td>${item.name}</td>
            <td><strong>${item.count}</strong></td>
            <td>
              <div class="progress-bar-container">
                <div class="progress-bar ${barClass}" style="width: ${item.percentage}%"></div>
              </div>
            </td>
          </tr>
        `;
      }).join('');
    }
    
    function applyDateRange() {
      const start = document.getElementById('startDate').value;
      const end = document.getElementById('endDate').value;
      alert(`Applying date range: ${start} to ${end}`);
    }
  </script>
</body>
</html>
