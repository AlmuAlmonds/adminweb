<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="../images/PULSE OG.png" type="image/png" />
  <title>PULSE ADMIN | User Management</title>

  <!-- ========== All CSS files linkup ========= -->
  <link rel="stylesheet" href="../admin/assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../admin/assets/css/lineicons.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../admin/assets/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../admin/assets/css/main.css" />
  <style>
    /* User Management Specific Styles */
    .user-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .user-stat-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .stat-icon-lg {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: white;
    }
    
    .stat-icon-lg.citizens { background: linear-gradient(135deg, #3498db, #2980b9); }
    .stat-icon-lg.responders { background: linear-gradient(135deg, #e74c3c, #c0392b); }
    .stat-icon-lg.admins { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
    .stat-icon-lg.inactive { background: linear-gradient(135deg, #95a5a6, #7f8c8d); }
    
    .stat-content h3 {
      font-size: 28px;
      font-weight: 700;
      margin: 0;
      color: #333;
    }
    
    .stat-content p {
      font-size: 13px;
      color: #666;
      margin: 0;
    }
    
    .page-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .filter-tabs {
      display: flex;
      gap: 10px;
    }
    
    .filter-tab {
      padding: 10px 20px;
      border: none;
      background: #f5f5f5;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .filter-tab:hover {
      background: #eee;
    }
    
    .filter-tab.active {
      background: var(--pulse-primary);
      color: white;
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
    }
    
    .btn-primary {
      padding: 10px 20px;
      background: var(--pulse-primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }
    
    .btn-primary:hover {
      background: #c0392b;
    }
    
    .btn-secondary {
      padding: 10px 20px;
      background: white;
      color: #333;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }
    
    .btn-secondary:hover {
      background: #f5f5f5;
    }
    
    .search-filter-row {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .search-input-wrapper {
      flex: 1;
      min-width: 250px;
      position: relative;
    }
    
    .search-input-wrapper input {
      width: 100%;
      padding: 12px 15px 12px 45px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
    }
    
    .search-input-wrapper i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #999;
    }
    
    .role-badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .role-badge.citizen {
      background: #e8f4fd;
      color: #3498db;
    }
    
    .role-badge.responder {
      background: #fde8e8;
      color: #e74c3c;
    }
    
    .role-badge.admin {
      background: #f3e8fd;
      color: #9b59b6;
    }
    
    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #3498db, #2980b9);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
    }
    
    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .user-details h4 {
      margin: 0;
      font-size: 14px;
      font-weight: 600;
    }
    
    .user-details p {
      margin: 0;
      font-size: 12px;
      color: #666;
    }
    
    .action-dropdown {
      position: relative;
    }
    
    .dropdown-toggle {
      background: none;
      border: none;
      padding: 8px;
      cursor: pointer;
      color: #666;
    }
    
    .dropdown-menu {
      position: absolute;
      right: 0;
      top: 100%;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      min-width: 150px;
      z-index: 100;
      display: none;
    }
    
    .dropdown-menu.show {
      display: block;
    }
    
    .dropdown-item {
      padding: 10px 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .dropdown-item:hover {
      background: #f5f5f5;
    }
    
    .dropdown-item.danger {
      color: #e74c3c;
    }
    
    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .modal-overlay.show {
      display: flex;
    }
    
    .modal {
      background: white;
      border-radius: 12px;
      width: 100%;
      max-width: 500px;
      max-height: 90vh;
      overflow: hidden;
    }
    
    .modal-header {
      padding: 20px;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .modal-header h3 {
      margin: 0;
      font-size: 18px;
    }
    
    .modal-close {
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #666;
    }
    
    .modal-body {
      padding: 20px;
      overflow-y: auto;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 14px;
    }
    
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
    }
    
    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--pulse-primary);
    }
    
    .modal-footer {
      padding: 15px 20px;
      border-top: 1px solid #eee;
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px;
      margin-top: 20px;
    }
    
    .page-btn {
      padding: 8px 12px;
      border: 1px solid #ddd;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }
    
    .page-btn:hover,
    .page-btn.active {
      background: var(--pulse-primary);
      color: white;
      border-color: var(--pulse-primary);
    }
    
    @media (max-width: 768px) {
      .page-actions {
        flex-direction: column;
        align-items: stretch;
      }
      
      .filter-tabs {
        overflow-x: auto;
        padding-bottom: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- ======== Preloader =========== -->
  <div id="preloader">
    <div class="spinner"></div>
  </div>
  <!-- ======== Preloader =========== -->

  <!-- ======== sidebar-nav start =========== -->
  <aside class="sidebar-nav-wrapper">
    <div class="navbar-logo">
      <a href="index.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
        <img src="../images/PULSE OG.png" alt="logo" style="width: 45px; height: 45px; object-fit: contain;" />
        <span style="font-size: 18px; font-weight: 600; color: #3b5998;">PULSE Admin</span>
      </a>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <!-- Dashboard -->
        <li class="nav-item">
          <a href="index.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 13H10C10.55 13 11 12.55 11 12V4C11 3.45 10.55 3 10 3H4C3.45 3 3 3.45 3 4V12C3 12.55 3.45 13 4 13ZM4 21H10C10.55 21 11 20.55 11 20V16C11 15.45 10.55 15 10 15H4C3.45 15 3 15.45 3 16V20C3 20.55 3.45 21 4 21ZM14 21H20C20.55 21 21 20.55 21 20V12C21 11.45 20.55 11 20 11H14C13.45 11 13 11.45 13 12V20C13 20.55 13.45 21 14 21ZM13 4V8C13 8.55 13.45 9 14 9H20C20.55 9 21 8.55 21 8V4C21 3.45 20.55 3 20 3H14C13.45 3 13 3.45 13 4Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Dashboard</span>
          </a>
        </li>
        <!-- Emergencies -->
        <li class="nav-item">
          <a href="emergencies.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 7C13.66 7 15 8.34 15 10C15 11.66 13.66 13 12 13C10.34 13 9 11.66 9 10C9 8.34 10.34 7 12 7ZM12 19.2C9.5 19.2 7.29 17.92 6 15.98C6.03 13.99 10 12.9 12 12.9C13.99 12.9 17.97 13.99 18 15.98C16.71 17.92 14.5 19.2 12 19.2Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Emergencies</span>
          </a>
        </li>
        <!-- Map -->
        <li class="nav-item">
          <a href="map.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 7C13.66 7 15 8.34 15 10C15 11.66 13.66 13 12 13C10.34 13 9 11.66 9 10C9 8.34 10.34 7 12 7Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Map</span>
          </a>
        </li>
        <!-- User Management -->
        <li class="nav-item active">
          <a href="users.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V19C4 19.55 4.45 20 5 20H19C19.55 20 20 19.55 20 19V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">User Management</span>
          </a>
        </li>
        <!-- Dispatch -->
        <li class="nav-item">
          <a href="dispatch.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 18.5C16.9 18.5 16 19.4 16 20.5C16 21.6 16.9 22.5 18 22.5C19.1 22.5 20 21.6 20 20.5C20 19.4 19.1 18.5 18 18.5ZM19.43 8.98C19.74 8.5 20 7.96 20 7.44V4C20 2.9 19.1 2 18 2H4C2.9 2 2 2.9 2 4V10C2 11.1 2.9 12 4 12H14.54C14.6 12 14.67 12 14.73 11.99C14.12 12.89 13.6 14.02 13.37 15.28H4C2.9 15.28 2 16.18 2 17.28V22C2 23.1 2.9 24 4 24H16.73C16.14 23.05 15.8 21.96 15.8 20.8C15.8 16.89 18.98 13.7 22.9 13.7C23.61 13.7 24.3 13.78 24.97 13.95V9C24.97 8.48 24.74 7.97 24.41 7.49L19.43 8.98ZM4 10V4H18V7.44L4 10ZM6 17.5C4.9 17.5 4 18.4 4 19.5C4 20.6 4.9 21.5 6 21.5C7.1 21.5 8 20.6 8 19.5C8 18.4 7.1 17.5 6 17.5Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Dispatch</span>
          </a>
        </li>
        <!-- Reports -->
        <li class="nav-item">
          <a href="reports.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 9.2H3C2.4 9.2 2 9.6 2 10.2V21C2 21.6 2.4 22 3 22H21C21.6 22 22 21.6 22 21V10.2C22 9.6 21.6 9.2 21 9.2H19.1C19.1 8.6 19.1 8.1 19.1 7.6C19.1 5.9 20.4 4.4 22 4.2V2.2C20.8 2.4 19.6 3 18.7 3.9C17.8 3 16.3 2 14.6 2C10.1 2 6.6 5.5 6.6 10C6.6 10.1 6.6 10.2 6.6 10.2C5.4 10.4 4.6 11.4 4.6 12.6V21C4.6 21.6 5 22 5.6 22H23C23.6 22 24 21.6 24 21V19.9C23.3 20 22.6 20 22 20H4V10.2C4 9.6 4.4 9.2 5 9.2Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Reports</span>
          </a>
        </li>
        <!-- Logs -->
        <li class="nav-item">
          <a href="logs.html">
            <span class="icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z" fill="currentColor"/>
              </svg>
            </span>
            <span class="text">Logs</span>
          </a>
        </li>
      </ul>
    </nav>
  </aside>
  <div class="overlay"></div>
  <!-- ======== sidebar-nav end =========== -->

  <!-- ======== main-wrapper start =========== -->
  <main class="main-wrapper">
    <!-- ========== header start ========== -->
    <header class="header">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-5 col-md-5 col-6">
            <div class="header-left d-flex align-items-center">
              <div class="menu-toggle-btn mr-15">
                <button id="menu-toggle" class="main-btn primary-btn btn-hover">
                  <i class="lni lni-chevron-left me-2"></i> Menu
                </button>
              </div>
              <div class="header-search d-none d-md-flex">
                <form action="#">
                  <input type="text" placeholder="Search..." />
                  <button><i class="lni lni-search-alt"></i></button>
                </form>
              </div>
            </div>
          </div>
          <div class="col-lg-7 col-md-7 col-6">
            <div class="header-right">
              <!-- profile start -->
              <div class="profile-box ml-15">
                <button class="dropdown-toggle bg-transparent border-0" type="button" id="profile" data-bs-toggle="dropdown" aria-expanded="false">
                  <div class="profile-info">
                    <div class="info">
                      <div class="image">
                        <img src="assets/images/profile/profile-image.png" alt="" />
                      </div>
                    </div>
                  </div>
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profile">
                  <li>
                    <a href="#0">
                      <i class="lni lni-user"></i>
                      Profile
                    </a>
                  </li>
                  <li>
                    <a href="#0">
                      <i class="lni lni-cog"></i>
                      Settings
                    </a>
                  </li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>
                  <li>
                    <a href="#0">
                      <i class="lni lni-exit"></i>
                      Sign Out
                    </a>
                  </li>
                </ul>
              </div>
              <!-- profile end -->
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- ========== header end ========== -->

    <!-- ========== section start ========== -->
    <section class="section">
      <div class="container-fluid">
        <!-- page title & breadcrumb start -->
        <div class="row align-items-center">
          <div class="col-sm-4">
            <div class="page-title-box">
              <h4 class="page-title">User Management</h4>
            </div>
          </div>
          <div class="col-sm-8">
            <div class="breadcrumb-links">
              <a href="index.html">Dashboard</a>
              <span>User Management</span>
            </div>
          </div>
        </div>
        <!-- page title & breadcrumb end -->

        <!-- Stat Cards -->
        <div class="row">
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Citizens</p>
                    <h2>1,247</h2>
                  </div>
                  <div class="card-icon success">
                    <i class="lni lni-user"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Responders</p>
                    <h2>86</h2>
                  </div>
                  <div class="card-icon warning">
                    <i class="lni lni-shield"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Administrators</p>
                    <h2>12</h2>
                  </div>
                  <div class="card-icon primary">
                    <i class="lni lni-crown"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Inactive Accounts</p>
                    <h2>34</h2>
                  </div>
                  <div class="card-icon danger">
                    <i class="lni lni-close-circle"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Bar -->
        <div class="row mb-3">
          <div class="col-12">
            <div class="d-flex gap-2 flex-wrap justify-content-between align-items-center">
              <div class="filter-tabs d-flex gap-2">
                <button class="filter-tab active" data-filter="all">All Users</button>
                <button class="filter-tab" data-filter="citizen">Citizens</button>
                <button class="filter-tab" data-filter="responder">Responders</button>
                <button class="filter-tab" data-filter="admin">Admins</button>
              </div>
              <button class="btn btn-primary" onclick="openAddUserModal()">
                <i class="lni lni-plus"></i> Add User
              </button>
            </div>
          </div>
        </div>

        <!-- Search & Filter Row -->
        <div class="row mb-3">
          <div class="col-lg-9">
            <div class="search-input-wrapper">
              <input type="text" class="form-control" placeholder="Search by name, email, or phone..." id="searchUsers">
            </div>
          </div>
          <div class="col-lg-3">
            <select class="form-control" id="statusFilter">
              <option value="all">All Status</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>
        </div>

        <!-- Users Table -->
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>User</th>
                      <th>Role</th>
                      <th>Phone</th>
                      <th>Registered</th>
                      <th>Status</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody id="usersTableBody">
                    <!-- Populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- ========== section end ========== -->
  </main>
  <!-- ======== main-wrapper end =========== -->

  <!-- Add/Edit User Modal -->
  <div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userModalLabel">Add New User</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="userForm">
            <div class="mb-3">
              <label for="userName" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="userName" placeholder="Enter full name" required>
            </div>
            <div class="mb-3">
              <label for="userEmail" class="form-label">Email Address</label>
              <input type="email" class="form-control" id="userEmail" placeholder="Enter email address" required>
            </div>
            <div class="mb-3">
              <label for="userPhone" class="form-label">Phone Number</label>
              <input type="tel" class="form-control" id="userPhone" placeholder="+63 9XX XXX XXXX" required>
            </div>
            <div class="mb-3">
              <label for="userRole" class="form-label">Role</label>
              <select class="form-control" id="userRole" required>
                <option value="citizen">Citizen</option>
                <option value="responder">Responder</option>
                <option value="admin">Administrator</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="userStatus" class="form-label">Status</label>
              <select class="form-control" id="userStatus" required>
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="saveUser()">Save User</button>
        </div>
      </div>
    </div>
  </div>

  <script src="../admin/assets/js/bootstrap.bundle.min.js"></script>
  <script src="../admin/assets/js/main.js"></script>
  <script src="js/mock-data.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      initializePage();
      populateUsersTable();
      initializeFilters();
      setupMenuToggle();
    });
    
    function setupMenuToggle() {
      const menuToggle = document.getElementById('menu-toggle');
      const sidebar = document.querySelector('.sidebar-nav-wrapper');
      if (menuToggle) {
        menuToggle.addEventListener('click', function() {
          sidebar.classList.toggle('active');
        });
      }
    }
    
    function initializePage() {
      // Initialize page
    }
    
    function populateUsersTable() {
      const tableBody = document.getElementById('usersTableBody');
      
      // Extended user data
      const users = [
        { id: 'USR-001', name: 'John Smith', email: 'john@email.com', role: 'Citizen', status: 'Active', phone: '+63 921 234 5678', registered: '2025-08-15' },
        { id: 'USR-002', name: 'Maria Santos', email: 'maria@bfp.gov.ph', role: 'Responder', status: 'Active', phone: '+63 922 345 6789', registered: '2025-07-20' },
        { id: 'USR-003', name: 'Carlos Reyes', email: 'carlos@cedoc.gov.ph', role: 'Admin', status: 'Active', phone: '+63 923 456 7890', registered: '2025-06-10' },
        { id: 'USR-004', name: 'Ana Garcia', email: 'ana@email.com', role: 'Citizen', status: 'Inactive', phone: '+63 924 567 8901', registered: '2025-09-05' },
        { id: 'USR-005', name: 'Pedro Fernandez', email: 'pedro@pnp.gov.ph', role: 'Responder', status: 'Active', phone: '+63 925 678 9012', registered: '2025-08-22' },
        { id: 'USR-006', name: 'Rosa Martinez', email: 'rosa@email.com', role: 'Citizen', status: 'Active', phone: '+63 922 678 9012', registered: '2025-09-12' },
        { id: 'USR-007', name: 'Jose Ramos', email: 'jose@bfp.gov.ph', role: 'Responder', status: 'Active', phone: '+63 923 789 0123', registered: '2025-04-18' },
        { id: 'USR-008', name: 'Linda Aquino', email: 'linda@cedoc.gov.ph', role: 'Admin', status: 'Active', phone: '+63 924 890 1234', registered: '2025-01-05' }
      ];
      
      tableBody.innerHTML = users.map(user => {
        const initials = user.name.split(' ').map(n => n[0]).join('');
        const roleClass = user.role.toLowerCase();
        const statusClass = user.status.toLowerCase() === 'active' ? 'success' : 'warning';
        
        return `
          <tr>
            <td>
              <div class="d-flex align-items-center gap-3">
                <div class="user-avatar" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #3498db, #2980b9); color: white; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 14px;">${initials}</div>
                <div>
                  <h6 class="mb-0">${user.name}</h6>
                  <p class="mb-0 text-muted" style="font-size: 12px;">${user.email}</p>
                </div>
              </div>
            </td>
            <td><span class="badge bg-${getRoleColor(user.role)}">${user.role}</span></td>
            <td>${user.phone}</td>
            <td>${user.registered}</td>
            <td><span class="badge bg-${statusClass}">${user.status}</span></td>
            <td>
              <div class="d-flex gap-2">
                <button class="btn btn-sm btn-outline-primary" onclick="viewUser('${user.id}')" title="View">
                  <i class="lni lni-eye"></i>
                </button>
                <button class="btn btn-sm btn-outline-warning" onclick="editUser('${user.id}')" title="Edit">
                  <i class="lni lni-pencil"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger" onclick="toggleUserStatus('${user.id}')" title="${user.status === 'Active' ? 'Deactivate' : 'Activate'}">
                  <i class="lni lni-${user.status === 'Active' ? 'close' : 'checkmark'}"></i>
                </button>
              </div>
            </td>
          </tr>
        `;
      }).join('');
    }
    
    function getRoleColor(role) {
      switch(role.toLowerCase()) {
        case 'citizen': return 'info';
        case 'responder': return 'warning';
        case 'admin': return 'danger';
        default: return 'secondary';
      }
    }
    
    function initializeFilters() {
      const filterTabs = document.querySelectorAll('.filter-tab');
      filterTabs.forEach(tab => {
        tab.addEventListener('click', () => {
          filterTabs.forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          // Apply filter logic
          console.log('Filtering by:', tab.dataset.filter);
        });
      });
      
      document.getElementById('searchUsers')?.addEventListener('input', function() {
        console.log('Searching:', this.value);
      });
    }
    
    function openAddUserModal() {
      document.getElementById('userModalLabel').textContent = 'Add New User';
      document.getElementById('userForm').reset();
      const modal = new bootstrap.Modal(document.getElementById('userModal'));
      modal.show();
    }
    
    function saveUser() {
      // Validate and save
      const name = document.getElementById('userName').value;
      const email = document.getElementById('userEmail').value;
      
      if (name && email) {
        alert('User saved successfully!');
        const modal = bootstrap.Modal.getInstance(document.getElementById('userModal'));
        modal.hide();
        populateUsersTable();
      }
    }
    
    function viewUser(id) {
      alert('Viewing user: ' + id);
    }
    
    function editUser(id) {
      document.getElementById('userModalLabel').textContent = 'Edit User';
      const modal = new bootstrap.Modal(document.getElementById('userModal'));
      modal.show();
    }
    
    function toggleUserStatus(id) {
      if (confirm('Are you sure you want to change this user\'s status?')) {
        alert('User status updated!');
        populateUsersTable();
      }
    }
  </script>
</body>
</html>
