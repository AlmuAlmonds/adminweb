<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="../images/PULSE OG.png" type="image/png" />
  <title>PULSE ADMIN | User Management</title>

  <!-- ========== All CSS files linkup ========= -->
  <link rel="stylesheet" href="../admin/assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../admin/assets/css/lineicons.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../admin/assets/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../admin/assets/css/main.css" />
  <link rel="stylesheet" href="css/accessibility.css" />
  <style>
    /* User Management Specific Styles */
    .user-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .user-stat-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .stat-icon-lg {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: white;
    }
    
    .stat-icon-lg.citizens { background: linear-gradient(135deg, #3498db, #2980b9); }
    .stat-icon-lg.responders { background: linear-gradient(135deg, #e74c3c, #c0392b); }
    .stat-icon-lg.admins { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
    .stat-icon-lg.inactive { background: linear-gradient(135deg, #95a5a6, #7f8c8d); }
    
    .stat-content h3 {
      font-size: 28px;
      font-weight: 700;
      margin: 0;
      color: #333;
    }
    
    .stat-content p {
      font-size: 13px;
      color: #666;
      margin: 0;
    }
    
    .page-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .filter-tabs {
      display: flex;
      gap: 10px;
    }
    
    .filter-tab {
      padding: 10px 20px;
      border: none;
      background: #f5f5f5;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      <nav class="sidebar-nav">
        <ul>
          <li class="nav-item"><a href="index.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 13H10C10.55 13 11 12.55 11 12V4C11 3.45 10.55 3 10 3H4C3.45 3 3 3.45 3 4V12C3 12.55 3.45 13 4 13ZM4 21H10C10.55 21 11 20.55 11 20V16C11 15.45 10.55 15 10 15H4C3.45 15 3 3.45 3 16V20C3 20.55 3.45 21 4 21ZM14 21H20C20.55 21 21 20.55 21 20V12C21 11.45 20.55 11 20 11H14C13.45 11 13 11.45 13 12V20C13 20.55 13.45 21 14 21ZM13 4V8C13 8.55 13.45 9 14 9H20C20.55 9 21 8.55 21 8V4C21 3.45 20.55 3 20 3H14C13.45 3 13 3.45 13 4Z" fill="currentColor"/></svg></span><span class="text">Dashboard</span></a></li>
          <li class="nav-item"><a href="emergencies.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" fill="currentColor"/></svg></span><span class="text">Emergencies</span></a></li>
          <li class="nav-item"><a href="map.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5.01L6.4 9 10 13.09 15.35 8l1.42 1.41L10 16z" fill="currentColor"/></svg></span><span class="text">Map</span></a></li>
          <li class="nav-item"><a href="dispatch.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm11 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM5 11l1.5-4.5h11L19 11H5z" fill="currentColor"/></svg></span><span class="text">Dispatch</span></a></li>
          <li class="nav-item"><a href="reports.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z" fill="currentColor"/></svg></span><span class="text">Reports</span></a></li>
          <li class="nav-item"><a href="news-events-view.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM5 7H10V13H5V7ZM19 17H5V15H19V17ZM19 13H12V11H19V13ZM19 9H12V7H19V9Z" fill="currentColor"/></svg></span><span class="text">News & Events</span></a></li>
          <li class="nav-item" style="margin-bottom: 15px;"><a href="logs.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z" fill="currentColor"/></svg></span><span class="text">Logs</span></a></li>
        </ul>
      </nav>
    
    .role-badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .role-badge.citizen {
      background: #e8f4fd;
      color: #3498db;
    }
    
    .role-badge.responder {
      background: #fde8e8;
      color: #e74c3c;
    }
    
    .role-badge.admin {
      background: #f3e8fd;
      color: #9b59b6;
    }
    
    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #3498db, #2980b9);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
    }
    
    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .user-details h4 {
      margin: 0;
      font-size: 14px;
      font-weight: 600;
    }
    
    .user-details p {
      margin: 0;
      font-size: 12px;
      color: #666;
    }
    
    .action-dropdown {
      position: relative;
    }
    
    .dropdown-toggle {
      background: none;
      border: none;
      padding: 8px;
      cursor: pointer;
      color: #666;
    }
    
    .dropdown-menu {
      position: absolute;
      right: 0;
      top: 100%;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      min-width: 150px;
      z-index: 100;
      display: none;
    }
    
    .dropdown-menu.show {
      display: block;
    }
    
    .dropdown-item {
      padding: 10px 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .dropdown-item:hover {
      background: #f5f5f5;
    }
    
    .dropdown-item.danger {
      color: #e74c3c;
    }
    
    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .modal-overlay.show {
      display: flex;
    }
    
    .modal {
      background: white;
      border-radius: 12px;
      width: 100%;
      max-width: 500px;
      max-height: 90vh;
      overflow: hidden;
    }
    
    .modal-header {
      padding: 20px;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .modal-header h3 {
      margin: 0;
      font-size: 18px;
    }
    
    .modal-close {
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #666;
    }
    
    .modal-body {
      padding: 20px;
      overflow-y: auto;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 14px;
    }
    
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
    }
    
    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--pulse-primary);
    }
    
    .modal-footer {
      padding: 15px 20px;
      border-top: 1px solid #eee;
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px;
      margin-top: 20px;
    }
    
    .page-btn {
      padding: 8px 12px;
      border: 1px solid #ddd;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }
    
    .page-btn:hover,
    .page-btn.active {
      background: var(--pulse-primary);
      color: white;
      border-color: var(--pulse-primary);
    }
    
    @media (max-width: 768px) {
      .page-actions {
        flex-direction: column;
        align-items: stretch;
      }
      
      .filter-tabs {
        overflow-x: auto;
        padding-bottom: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- ======== Preloader =========== -->
  <div id="preloader">
    <div class="spinner"></div>
  </div>
  <!-- ======== Preloader =========== -->

  <!-- ======== sidebar-nav start =========== -->
  <aside class="sidebar-nav-wrapper">
    <div class="navbar-logo">
      <a href="index.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
        <img src="../images/PULSE OG.png" alt="logo" style="width: 45px; height: 45px; object-fit: contain;" />
        <span style="font-size: 18px; font-weight: 600; color: #3b5998;">PULSE Admin</span>
      </a>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li class="nav-item"><a href="index.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 13H10C10.55 13 11 12.55 11 12V4C11 3.45 10.55 3 10 3H4C3.45 3 3 3.45 3 4V12C3 12.55 3.45 13 4 13ZM4 21H10C10.55 21 11 20.55 11 20V16C11 15.45 10.55 15 10 15H4C3.45 15 3 3.45 3 16V20C3 20.55 3.45 21 4 21ZM14 21H20C20.55 21 21 20.55 21 20V12C21 11.45 20.55 11 20 11H14C13.45 11 13 11.45 13 12V20C13 20.55 13.45 21 14 21ZM13 4V8C13 8.55 13.45 9 14 9H20C20.55 9 21 8.55 21 8V4C21 3.45 20.55 3 20 3H14C13.45 3 13 3.45 13 4Z" fill="currentColor"/></svg></span><span class="text">Dashboard</span></a></li>
        <li class="nav-item"><a href="emergencies.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" fill="currentColor"/></svg></span><span class="text">Emergencies</span></a></li>
        <li class="nav-item"><a href="dispatch.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm11 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM5 11l1.5-4.5h11L19 11H5z" fill="currentColor"/></svg></span><span class="text">Dispatch</span></a></li>
        <li class="nav-item active"><a href="users.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V19C4 19.55 4.45 20 5 20H19C19.55 20 20 19.55 20 19V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/></svg></span><span class="text">Users</span></a></li>
        <li class="nav-item"><a href="reports.html"><span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z" fill="currentColor"/></svg></span><span class="text">Reports</span></a></li>
      </ul>
    </nav>
  </aside>
  <div class="overlay"></div>
  <!-- ======== sidebar-nav end =========== -->

  <!-- ======== main-wrapper start =========== -->
  <main class="main-wrapper">
    <!-- ========== header start ========== -->
    <header class="header">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-5 col-md-5 col-6">
            <div class="header-left d-flex align-items-center">
              <div class="menu-toggle-btn mr-15">
                <button id="menu-toggle" class="main-btn primary-btn btn-hover">
                  <i class="lni lni-chevron-left me-2"></i> Menu
                </button>
              </div>
              <div class="header-search d-none d-md-flex">
                <form action="#">
                  <input type="text" placeholder="Search..." />
                  <button><i class="lni lni-search-alt"></i></button>
                </form>
              </div>
            </div>
          </div>
          <div class="col-lg-7 col-md-7 col-6">
            <div class="header-right">
              <!-- profile start -->
              <div class="profile-box ml-15">
                <button class="dropdown-toggle bg-transparent border-0" type="button" id="profile" data-bs-toggle="dropdown" aria-expanded="false">
                  <div class="profile-info">
                    <div class="info">
                      <div class="image">
                        <img src="assets/images/profile/profile-image.png" alt="" />
                      </div>
                    </div>
                  </div>
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profile">
                  <li>
                    <a href="#0">
                      <i class="lni lni-user"></i>
                      Profile
                    </a>
                  </li>
                  <li>
                    <a href="#0">
                      <i class="lni lni-cog"></i>
                      Settings
                    </a>
                  </li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>
                  <li>
                    <a href="#0">
                      <i class="lni lni-exit"></i>
                      Sign Out
                    </a>
                  </li>
                </ul>
              </div>
              <!-- profile end -->
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- ========== header end ========== -->

    <!-- ========== section start ========== -->
    <section class="section">
      <div class="container-fluid">
        <!-- page title & breadcrumb start -->
        <div class="row align-items-center">
          <div class="col-sm-4">
            <div class="page-title-box">
              <h4 class="page-title">User Management</h4>
            </div>
          </div>
          <div class="col-sm-8">
            <div class="breadcrumb-links">
              <a href="index.html">Dashboard</a>
              <span>User Management</span>
            </div>
          </div>
        </div>
        <!-- page title & breadcrumb end -->

        <!-- Stat Cards -->
        <div class="row">
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Citizens</p>
                    <h2>1,247</h2>
                  </div>
                  <div class="card-icon success">
                    <i class="lni lni-user"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Responders</p>
                    <h2>86</h2>
                  </div>
                  <div class="card-icon warning">
                    <i class="lni lni-shield"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Administrators</p>
                    <h2>12</h2>
                  </div>
                  <div class="card-icon primary">
                    <i class="lni lni-crown"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xxl-3 col-lg-6">
            <div class="card card-stat">
              <div class="card-body">
                <div class="d-flex align-items-end justify-content-between">
                  <div>
                    <p class="dz-emai-con">Inactive Accounts</p>
                    <h2>34</h2>
                  </div>
                  <div class="card-icon danger">
                    <i class="lni lni-close-circle"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Bar -->
        <div class="row mb-3">
          <div class="col-12">
            <div class="d-flex gap-2 flex-wrap justify-content-between align-items-center">
              <div class="filter-tabs d-flex gap-2">
                <button class="filter-tab active" data-filter="all">All Users</button>
                <button class="filter-tab" data-filter="citizen">Citizens</button>
                <button class="filter-tab" data-filter="responder">Responders</button>
                <button class="filter-tab" data-filter="admin">Admins</button>
              </div>
              <button class="btn btn-primary" onclick="openAddUserModal()">
                <i class="lni lni-plus"></i> Add User
              </button>
            </div>
          </div>
        </div>

        <!-- Search & Filter Row -->
        <div class="row mb-3">
          <div class="col-lg-9">
            <div class="search-input-wrapper">
              <input type="text" class="form-control" placeholder="Search by name, email, or phone..." id="searchUsers">
            </div>
          </div>
          <div class="col-lg-3">
            <select class="form-control" id="statusFilter">
              <option value="all">All Status</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>
        </div>

        <!-- Users Table -->
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>User</th>
                      <th>Role</th>
                      <th>Phone</th>
                      <th>Registered</th>
                      <th>Status</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody id="usersTableBody">
                    <!-- Populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- ========== section end ========== -->
  </main>
  <!-- ======== main-wrapper end =========== -->

  <!-- Add/Edit User Modal -->
  <div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userModalLabel">Add New User</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="userForm">
            <div class="mb-3">
              <label for="userName" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="userName" placeholder="Enter full name" required>
            </div>
            <div class="mb-3">
              <label for="userEmail" class="form-label">Email Address</label>
              <input type="email" class="form-control" id="userEmail" placeholder="Enter email address" required>
            </div>
            <div class="mb-3">
              <label for="userPhone" class="form-label">Phone Number</label>
              <input type="tel" class="form-control" id="userPhone" placeholder="+63 9XX XXX XXXX" required>
            </div>
            <div class="mb-3">
              <label for="userRole" class="form-label">Role</label>
              <select class="form-control" id="userRole" required>
                <option value="citizen">Citizen</option>
                <option value="responder">Responder</option>
                <option value="admin">Administrator</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="userStatus" class="form-label">Status</label>
              <select class="form-control" id="userStatus" required>
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="saveUser()">Save User</button>
        </div>
      </div>
    </div>
  </div>

  <script src="../admin/assets/js/bootstrap.bundle.min.js"></script>
  <script src="../admin/assets/js/main.js"></script>
  <script src="js/mock-data.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      initializePage();
      populateUsersTable();
      initializeFilters();
      setupMenuToggle();
    });
    
    function setupMenuToggle() {
      const menuToggle = document.getElementById('menu-toggle');
      const sidebar = document.querySelector('.sidebar-nav-wrapper');
      if (menuToggle) {
        menuToggle.addEventListener('click', function() {
          sidebar.classList.toggle('active');
        });
      }
    }
    
    function initializePage() {
      // Initialize page
    }
    
    function populateUsersTable() {
      const tableBody = document.getElementById('usersTableBody');
      
      // Extended user data
      const users = [
        { id: 'USR-001', name: 'John Smith', email: 'john@email.com', role: 'Citizen', status: 'Active', phone: '+63 921 234 5678', registered: '2025-08-15' },
        { id: 'USR-002', name: 'Maria Santos', email: 'maria@bfp.gov.ph', role: 'Responder', status: 'Active', phone: '+63 922 345 6789', registered: '2025-07-20' },
        { id: 'USR-003', name: 'Carlos Reyes', email: 'carlos@cedoc.gov.ph', role: 'Admin', status: 'Active', phone: '+63 923 456 7890', registered: '2025-06-10' },
        { id: 'USR-004', name: 'Ana Garcia', email: 'ana@email.com', role: 'Citizen', status: 'Inactive', phone: '+63 924 567 8901', registered: '2025-09-05' },
        { id: 'USR-005', name: 'Pedro Fernandez', email: 'pedro@pnp.gov.ph', role: 'Responder', status: 'Active', phone: '+63 925 678 9012', registered: '2025-08-22' },
        { id: 'USR-006', name: 'Rosa Martinez', email: 'rosa@email.com', role: 'Citizen', status: 'Active', phone: '+63 922 678 9012', registered: '2025-09-12' },
        { id: 'USR-007', name: 'Jose Ramos', email: 'jose@bfp.gov.ph', role: 'Responder', status: 'Active', phone: '+63 923 789 0123', registered: '2025-04-18' },
        { id: 'USR-008', name: 'Linda Aquino', email: 'linda@cedoc.gov.ph', role: 'Admin', status: 'Active', phone: '+63 924 890 1234', registered: '2025-01-05' }
      ];
      
      tableBody.innerHTML = users.map(user => {
        const initials = user.name.split(' ').map(n => n[0]).join('');
        const roleClass = user.role.toLowerCase();
        const statusClass = user.status.toLowerCase() === 'active' ? 'success' : 'warning';
        
        return `
          <tr>
            <td>
              <div class="d-flex align-items-center gap-3">
                <div class="user-avatar" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #3498db, #2980b9); color: white; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 14px;">${initials}</div>
                <div>
                  <h6 class="mb-0">${user.name}</h6>
                  <p class="mb-0 text-muted" style="font-size: 12px;">${user.email}</p>
                </div>
              </div>
            </td>
            <td><span class="badge bg-${getRoleColor(user.role)}">${user.role}</span></td>
            <td>${user.phone}</td>
            <td>${user.registered}</td>
            <td><span class="badge bg-${statusClass}">${user.status}</span></td>
            <td>
              <div class="d-flex gap-2">
                <button class="btn btn-sm btn-outline-primary" onclick="viewUser('${user.id}')" title="View">
                  <i class="lni lni-eye"></i>
                </button>
                <button class="btn btn-sm btn-outline-warning" onclick="editUser('${user.id}')" title="Edit">
                  <i class="lni lni-pencil"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger" onclick="toggleUserStatus('${user.id}')" title="${user.status === 'Active' ? 'Deactivate' : 'Activate'}">
                  <i class="lni lni-${user.status === 'Active' ? 'close' : 'checkmark'}"></i>
                </button>
              </div>
            </td>
          </tr>
        `;
      }).join('');
    }
    
    function getRoleColor(role) {
      switch(role.toLowerCase()) {
        case 'citizen': return 'info';
        case 'responder': return 'warning';
        case 'admin': return 'danger';
        default: return 'secondary';
      }
    }
    
    function initializeFilters() {
      const filterTabs = document.querySelectorAll('.filter-tab');
      filterTabs.forEach(tab => {
        tab.addEventListener('click', () => {
          filterTabs.forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          // Apply filter logic
          console.log('Filtering by:', tab.dataset.filter);
        });
      });
      
      document.getElementById('searchUsers')?.addEventListener('input', function() {
        console.log('Searching:', this.value);
      });
    }
    
    function openAddUserModal() {
      document.getElementById('userModalLabel').textContent = 'Add New User';
      document.getElementById('userForm').reset();
      const modal = new bootstrap.Modal(document.getElementById('userModal'));
      modal.show();
    }
    
    function saveUser() {
      // Validate and save
      const name = document.getElementById('userName').value;
      const email = document.getElementById('userEmail').value;
      
      if (name && email) {
        alert('User saved successfully!');
        const modal = bootstrap.Modal.getInstance(document.getElementById('userModal'));
        modal.hide();
        populateUsersTable();
      }
    }
    
    function viewUser(id) {
      alert('Viewing user: ' + id);
    }
    
    function editUser(id) {
      document.getElementById('userModalLabel').textContent = 'Edit User';
      const modal = new bootstrap.Modal(document.getElementById('userModal'));
      modal.show();
    }
    
    function toggleUserStatus(id) {
      if (confirm('Are you sure you want to change this user\'s status?')) {
        alert('User status updated!');
        populateUsersTable();
      }
    }
  </script>
  <script src="js/accessibility.js"></script>

  <!-- ========== Accessibility FAB ========== -->
  <button id="a11yFab" class="a11y-fab" title="Accessibility Settings" aria-label="Open Accessibility Settings">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="white"><path d="M12 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm9 7h-6l-1.41 7.06L16 22h-2.5l-1.5-5-1.5 5H8l2.41-5.94L9 9H3V7h18v2z"/></svg>
  </button>
  <div id="a11yOverlay" class="a11y-overlay"></div>
  <div id="a11yPanel" class="a11y-panel" role="dialog" aria-label="Accessibility Settings">
    <div class="a11y-panel-header"><h3><svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm9 7h-6l-1.41 7.06L16 22h-2.5l-1.5-5-1.5 5H8l2.41-5.94L9 9H3V7h18v2z"/></svg> Accessibility Settings</h3><button id="a11yCloseBtn" class="a11y-close-btn" aria-label="Close">&times;</button></div>
    <div class="a11y-panel-body">
      <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon purple"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5C10.55 5.4 8.45 5 6.5 5 5.33 5 4.11 5.15 3 5.5v14.07c0 .25.25.46.5.37C4.57 19.52 5.53 19.35 6.5 19.35c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5.97 0 1.93.09 2.88.36.23.07.62-.09.62-.36V5z"/></svg></span> Reading Assistance</h4>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Text-to-Speech</strong><small>Click any text to hear it read aloud</small></div><label class="a11y-switch"><input type="checkbox" id="a11yTTS"><span class="a11y-slider"></span></label></div>
        <button id="a11yReadPage" class="a11y-read-page-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg> Read Page Aloud</button>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Dyslexia-Friendly Font</strong><small>Switch to OpenDyslexic typeface</small></div><label class="a11y-switch"><input type="checkbox" id="a11yDyslexia"><span class="a11y-slider"></span></label></div>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Text Size</strong><small>Adjust base text size</small></div><div class="a11y-range-wrap"><input type="range" id="a11yTextSize" class="a11y-range" min="80" max="200" step="10" value="100"><span id="a11yTextSizeVal" class="a11y-range-val">100%</span></div></div>
      </div>
      <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon blue"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></span> Visual Modes</h4>
        <div class="a11y-option"><div class="a11y-option-info"><strong>High Contrast</strong><small>Dark background with bright text</small></div><label class="a11y-switch"><input type="checkbox" id="a11yContrast"><span class="a11y-slider"></span></label></div>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Large UI Elements</strong><small>Bigger buttons, text, and spacing</small></div><label class="a11y-switch"><input type="checkbox" id="a11yLargeUI"><span class="a11y-slider"></span></label></div>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Simple Mode</strong><small>Hide charts and non-essential details</small></div><label class="a11y-switch"><input type="checkbox" id="a11ySimple"><span class="a11y-slider"></span></label></div>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Colorblind Palette</strong><small>Adjusted colors for color vision deficiency</small></div><label class="a11y-switch"><input type="checkbox" id="a11yColorblind"><span class="a11y-slider"></span></label></div>
      </div>
      <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon amber"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg></span> Navigation & Feedback</h4>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Voice Guidance</strong><small>Announce navigation changes aloud</small></div><label class="a11y-switch"><input type="checkbox" id="a11yVoice"><span class="a11y-slider"></span></label></div>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Icon Labels</strong><small>Show text labels alongside icons</small></div><label class="a11y-switch"><input type="checkbox" id="a11yIconLabels"><span class="a11y-slider"></span></label></div>
        <div class="a11y-option"><div class="a11y-option-info"><strong>Confirmation Prompts</strong><small>Ask before critical actions</small></div><label class="a11y-switch"><input type="checkbox" id="a11yConfirm"><span class="a11y-slider"></span></label></div>
      </div>
      <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon red"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg></span> Emergency</h4>
        <div class="a11y-option"><div class="a11y-option-info"><strong>One-Tap Emergency</strong><small>Show quick emergency shortcut button</small></div><label class="a11y-switch"><input type="checkbox" id="a11yEmergency"><span class="a11y-slider"></span></label></div>
        <button id="a11yEmergencyAction" class="a11y-emergency-btn" style="display:none;"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg> Send Emergency Alert</button>
      </div>
    </div>
    <div class="a11y-panel-footer"><button id="a11yResetBtn" class="a11y-reset-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg> Reset All Settings</button></div>
  </div>
</body>
</html>
