<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../images/PULSE OG.png" type="image/png" />
    <title>PULSE CEDOC | Public Advisory Board</title>

    <!-- ========== All CSS files linkup ========= -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/lineicons.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="assets/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="../dispatch/css/accessibility.css" />
    <style>
      /* Header Actions */
      .header-actions { display: flex; align-items: center; justify-content: flex-end; gap: 12px; }
      .time-display { font-size: 14px; color: #6b7280; font-weight: 500; white-space: nowrap; }
      .btn-refresh-icon {
        width: 40px; height: 40px; border-radius: 8px; border: 1px solid #e5e7eb;
        background: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer;
      }
      .btn-refresh-icon:hover { background: #f3f4f6; }
      
      /* Emergency Board Styling */
      .advisory-banner {
        background: linear-gradient(135deg, #1a3a52 0%, #2d5f8d 100%);
        color: white;
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        gap: 20px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      }
      .advisory-icon {
        font-size: 48px;
      }
      .advisory-content h2 {
        font-size: 28px;
        font-weight: 700;
        margin: 0 0 5px 0;
      }
      .advisory-content p {
        margin: 0;
        opacity: 0.9;
      }
      .filter-badge {
        padding: 12px 28px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
        background: white;
        color: #333;
      }
      .filter-badge:hover {
        background: #f5f5f5;
        transform: translateY(-2px);
      }
      .filter-badge.active {
        background: #365CF5;
        color: white;
        border-color: #254dbd;
      }
      .filter-buttons {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        margin-bottom: 25px;
      }
      .update-card {
        border-radius: 20px;
        padding: 50px 30px;
        text-align: center;
        color: white;
        margin-bottom: 25px;
        min-height: 180px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .update-card.news {
        background: #2d4a5e;
      }
      .update-card.events {
        background: #7cb4d4;
      }
      .update-card h3 {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .update-card .label {
        font-size: 16px;
        opacity: 0.9;
      }
      .entries-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 15px;
      }
      .entries-title {
        font-size: 16px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .btn-refresh {
        background: #5cb85c;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .btn-refresh:hover {
        background: #4cae4c;
      }
      .entries-controls {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      .entries-controls label {
        font-size: 14px;
        color: #666;
      }
      .entries-controls select {
        padding: 8px 15px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
      }
      .entries-controls input {
        padding: 8px 15px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
        min-width: 200px;
      }
      .events-table {
        background: white;
        border-radius: 10px;
        overflow: hidden;
      }
      .events-table th {
        background: #f8f9fa;
        font-weight: 600;
        font-size: 12px;
        color: #666;
        text-transform: uppercase;
        padding: 15px 20px;
        border: none;
      }
      .events-table td {
        padding: 15px 20px;
        vertical-align: middle;
        border-bottom: 1px solid #f0f0f0;
        font-size: 14px;
      }
      .events-table tbody tr:nth-child(even) {
        background: #fdf5f5;
      }
      .events-table tbody tr:hover {
        background: #f0f7ff;
      }
      .img-thumb {
        width: 40px;
        height: 40px;
        object-fit: cover;
        border-radius: 4px;
        border: 1px solid #ddd;
      }
      .btn-link-icon {
        color: #999;
        font-size: 18px;
        cursor: pointer;
      }
      .btn-link-icon:hover {
        color: #3b5998;
      }
      .btn-edit-icon {
        color: #f0ad4e;
        font-size: 18px;
        cursor: pointer;
      }
      .btn-edit-icon:hover {
        color: #ec971f;
      }
      .btn-add-new {
        background: #5cb85c;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        float: right;
        margin-top: 20px;
      }
      .btn-add-new:hover {
        background: #4cae4c;
        color: white;
        text-decoration: none;
      }
      
      /* Card Buttons Styling */
      .update-card-btn {
        border-radius: 20px;
        padding: 50px 30px;
        text-align: center;
        color: white;
        margin-bottom: 25px;
        min-height: 180px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border: none;
        cursor: pointer;
        width: 100%;
        text-decoration: none;
        transition: all 0.3s ease;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }
      .update-card-btn.news {
        background: #2d4a5e;
      }
      .update-card-btn.news:hover {
        background: #1e3344;
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(45, 74, 94, 0.4);
        color: white;
      }
      .update-card-btn.events {
        background: #7cb4d4;
      }
      .update-card-btn.events:hover {
        background: #5a9bc2;
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(124, 180, 212, 0.4);
        color: white;
      }
      .update-card-btn h3 {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }
      .update-card-btn .label {
        font-size: 18px;
        font-weight: 600;
        opacity: 0.95;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        letter-spacing: 0.5px;
      }
      
      /* Section Title Styling */
      .section-title {
        font-size: 24px;
        font-weight: 700;
        color: #333;
        margin-bottom: 20px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .section-title i {
        color: #d9a441;
      }
      
      /* Filter badge transitions */
      .filter-badge {
        transition: all 0.3s ease;
      }
      .filter-badge.active {
        background: #c49536;
        transform: scale(1.05);
      }

      /* Accessibility Styles */
      .access-high-contrast {
        background-color: #ffffff !important;
        color: #000000 !important;
      }
      .access-high-contrast .card-style,
      .access-high-contrast .events-table,
      .access-high-contrast .table,
      .access-high-contrast .header,
      .access-high-contrast .sidebar-nav-wrapper,
      .access-high-contrast .main-wrapper {
        background-color: #ffffff !important;
        color: #000000 !important;
      }
      .access-high-contrast a { color: #0000ee !important; }
      .access-large-text { font-size: 18px; }
      .access-text-spacing { letter-spacing: 0.3px; line-height: 1.6; }
      .access-reduce-motion *, .access-reduce-motion *::before, .access-reduce-motion *::after {
        animation: none !important;
        transition: none !important;
        scroll-behavior: auto !important;
      }

      /* Settings dropdown & switch */
      .settings-box button {
        width: 40px; height: 40px; border-radius: 50%; background: #f5f6fa; display: inline-flex; align-items: center; justify-content: center;
      }
      .settings-dropdown {
        width: 280px; padding: 10px 0;
      }
      .settings-title { font-weight: 600; font-size: 13px; padding: 8px 16px; color: #555; }
      .settings-item { display: flex; align-items: center; justify-content: space-between; padding: 8px 16px; }
      .settings-item label { font-size: 13px; color: #333; }
      .switch { position: relative; width: 42px; height: 24px; }
      .switch input { opacity: 0; width: 0; height: 0; }
      .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: #ddd; transition: .2s; border-radius: 24px; }
      .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; top: 3px; background: white; transition: .2s; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
      .switch input:checked + .slider { background: #3b5998; }
      .switch input:checked + .slider:before { transform: translateX(18px); }

      /* High Contrast (Dark) */
      .access-contrast-dark {
        background-color: #0f172a !important; /* slate-900 */
        color: #ffffff !important;
      }
      .access-contrast-dark .card-style,
      .access-contrast-dark .events-table,
      .access-contrast-dark .table,
      .access-contrast-dark .header,
      .access-contrast-dark .sidebar-nav-wrapper,
      .access-contrast-dark .main-wrapper {
        background-color: #111827 !important; /* gray-900 */
        color: #ffffff !important;
      }
      .access-contrast-dark a { color: #93c5fd !important; }
      .access-contrast-dark .btn-refresh,
      .access-contrast-dark .filter-badge { background: #1f2937 !important; color: #ffffff !important; }

      /* Color Blind Friendly Palette (Deuteranopia-safe) */
      .access-colorblind {
        --cb-blue: #2E86AB;   /* blue */
        --cb-yellow: #F6C85F; /* yellow */
        --cb-purple: #6F4E7C; /* purple */
        --cb-teal: #41B3A3;   /* teal */
        --cb-gray: #6c757d;   /* gray */
      }
      .access-colorblind .filter-badge { background: var(--cb-yellow) !important; color: #1f1f1f !important; }
      .access-colorblind .update-card-btn.news { background: var(--cb-blue) !important; }
      .access-colorblind .update-card-btn.events { background: var(--cb-teal) !important; }
      .access-colorblind .btn-refresh { background: var(--cb-teal) !important; }

      /* Simple Mode: larger buttons, spacing, hide non-essential UI */
      .access-simple .header-search { display: none !important; }
      .access-simple .filter-badge,
      .access-simple .btn-refresh,
      .access-simple .btn-add-new { padding: 16px 24px; font-size: 16px; border-radius: 12px; }
      .access-simple .update-card-btn { min-height: 220px; }
      .access-simple .entries-controls { gap: 20px; }

      /* Text size helpers (applied via root font-size) */
      .text-size-indicator { font-weight: 700; }
    </style>
  </head>
  <body>
    <!-- ======== Preloader =========== -->
    <div id="preloader">
      <div class="spinner"></div>
    </div>
    <!-- ======== Preloader =========== -->

    <!-- ======== sidebar-nav start =========== -->
    <aside class="sidebar-nav-wrapper">
      <div class="navbar-logo">
        <a href="index.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
          <img src="../images/PULSE OG.png" alt="logo" style="width: 45px; height: 45px; object-fit: contain;" />
          <span style="font-size: 18px; font-weight: 600; color: #3b5998;">PULSE Admin</span>
        </a>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <!-- Dashboard -->
          <li class="nav-item">
            <a href="index.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 13H10C10.55 13 11 12.55 11 12V4C11 3.45 10.55 3 10 3H4C3.45 3 3 3.45 3 4V12C3 12.55 3.45 13 4 13ZM4 21H10C10.55 21 11 20.55 11 20V16C11 15.45 10.55 15 10 15H4C3.45 15 3 15.45 3 16V20C3 20.55 3.45 21 4 21ZM14 21H20C20.55 21 21 20.55 21 20V12C21 11.45 20.55 11 20 11H14C13.45 11 13 11.45 13 12V20C13 20.55 13.45 21 14 21ZM13 4V8C13 8.55 13.45 9 14 9H20C20.55 9 21 8.55 21 8V4C21 3.45 20.55 3 20 3H14C13.45 3 13 3.45 13 4Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">Dashboard</span>
            </a>
          </li>

          <!-- Accounts -->
          <li class="nav-item">
            <a href="accounts.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V19C4 19.55 4.45 20 5 20H19C19.55 20 20 19.55 20 19V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">User Management</span>
            </a>
          </li>
          <!-- News & Events -->
          <li class="nav-item active" style="margin-bottom: 15px;">
            <a href="news-events.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM5 7H10V13H5V7ZM19 17H5V15H19V17ZM19 13H12V11H19V13ZM19 9H12V7H19V9Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">News & Events</span>
            </a>
          </li>
          <!-- Security Divider -->
          <li class="nav-item" style="pointer-events: none; margin-top: 10px;">
            <span style="display: flex; align-items: center; padding: 12px 20px; color: #ffc107; font-weight: 600; font-size: 13px; text-transform: uppercase; letter-spacing: 1px;">
              <span class="icon" style="margin-right: 10px;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z" fill="#ffc107"/>
                </svg>
              </span>
              Security
            </span>
          </li>
          <!-- Login Logs -->
          <li class="nav-item">
            <a href="loginlogs.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">Logs</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>
    <div class="overlay"></div>
    <!-- ======== sidebar-nav end =========== -->

    <!-- ======== main-wrapper start =========== -->
    <main class="main-wrapper">
      <!-- ========== header start ========== -->
      <header class="header">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-5 col-md-5 col-6">
              <div class="header-left d-flex align-items-center">
                <div class="menu-toggle-btn mr-15">
                  <button id="menu-toggle" class="main-btn primary-btn btn-hover">
                    <i class="lni lni-chevron-left me-2"></i> Menu
                  </button>
                </div>
                <div class="header-search d-none d-md-flex">
                  <form action="#">
                    <input type="text" placeholder="Search for something" />
                    <button><i class="lni lni-search-alt"></i></button>
                  </form>
                </div>
              </div>
            </div>
            <div class="col-lg-7 col-md-7 col-6">
              <div class="header-right">
                <!-- notification start -->
                <div class="notification-box ml-15 d-none d-md-flex">
                  <button class="dropdown-toggle" type="button" id="notification" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M11 20.1667C9.88317 20.1667 8.88718 19.63 8.23901 18.7917H13.761C13.113 19.63 12.1169 20.1667 11 20.1667Z"
                        fill="" />
                      <path
                        d="M10.1157 2.74999C10.1157 2.24374 10.5117 1.83333 11 1.83333C11.4883 1.83333 11.8842 2.24374 11.8842 2.74999V2.82604C14.3932 3.26245 16.3051 5.52474 16.3051 8.24999V14.287C16.3051 14.5301 16.3982 14.7633 16.564 14.9352L18.2029 16.6342C18.4814 16.9229 18.2842 17.4167 17.8903 17.4167H4.10961C3.71574 17.4167 3.5185 16.9229 3.797 16.6342L5.43589 14.9352C5.6017 14.7633 5.69485 14.5301 5.69485 14.287V8.24999C5.69485 5.52474 7.60672 3.26245 10.1157 2.82604V2.74999Z"
                        fill="" />
                    </svg>
                    <span></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="notification">
                    <li>
                      <a href="#0">
                        <div class="image">
                          <img src="assets/images/lead/lead-6.png" alt="" />
                        </div>
                        <div class="content">
                          <h6>New event posted</h6>
                          <span>10 mins ago</span>
                        </div>
                      </a>
                    </li>
                  </ul>
                </div>
                <!-- notification end -->
                <!-- message start -->
                <div class="header-message-box ml-15 d-none d-md-flex">
                  <button class="dropdown-toggle" type="button" id="message" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M7.74866 5.97421C7.91444 5.96367 8.08162 5.95833 8.25005 5.95833C12.5532 5.95833 16.0417 9.4468 16.0417 13.75C16.0417 13.9184 16.0364 14.0856 16.0259 14.2514C16.3246 14.138 16.6127 14.003 16.8883 13.8482L19.2306 14.629C19.7858 14.8141 20.3141 14.2858 20.129 13.7306L19.3482 11.3882C19.8694 10.4604 20.1667 9.38996 20.1667 8.25C20.1667 4.70617 17.2939 1.83333 13.75 1.83333C11.0077 1.83333 8.66702 3.55376 7.74866 5.97421Z"
                        fill="" />
                      <path
                        d="M14.6667 13.75C14.6667 17.2938 11.7939 20.1667 8.25004 20.1667C7.11011 20.1667 6.03962 19.8694 5.11182 19.3482L2.76946 20.129C2.21421 20.3141 1.68597 19.7858 1.87105 19.2306L2.65184 16.8882C2.13062 15.9604 1.83338 14.89 1.83338 13.75C1.83338 10.2062 4.70622 7.33333 8.25004 7.33333C11.7939 7.33333 14.6667 10.2062 14.6667 13.75ZM5.95838 13.75C5.95838 13.2437 5.54797 12.8333 5.04171 12.8333C4.53545 12.8333 4.12504 13.2437 4.12504 13.75C4.12504 14.2563 4.53545 14.6667 5.04171 14.6667C5.54797 14.6667 5.95838 14.2563 5.95838 13.75ZM9.16671 13.75C9.16671 13.2437 8.7563 12.8333 8.25004 12.8333C7.74379 12.8333 7.33338 13.2437 7.33338 13.75C7.33338 14.2563 7.74379 14.6667 8.25004 14.6667C8.7563 14.6667 9.16671 14.2563 9.16671 13.75ZM11.4584 14.6667C11.9647 14.6667 12.375 14.2563 12.375 13.75C12.375 13.2437 11.9647 12.8333 11.4584 12.8333C10.9521 12.8333 10.5417 13.2437 10.5417 13.75C10.5417 14.2563 10.9521 14.6667 11.4584 14.6667Z"
                        fill="" />
                    </svg>
                    <span></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="message">
                    <li>
                      <a href="#0">
                        <div class="image">
                          <img src="assets/images/lead/lead-5.png" alt="" />
                        </div>
                        <div class="content">
                          <h6>Jacob Jones</h6>
                          <p>News article approved</p>
                          <span>10 mins ago</span>
                        </div>
                      </a>
                    </li>
                  </ul>
                </div>
                <!-- message end -->
                <!-- profile start -->
                <div class="profile-box ml-15">
                  <button class="dropdown-toggle bg-transparent border-0" type="button" id="profile"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <div class="profile-info">
                      <div class="info">
                        <div class="image">
                          <img src="assets/images/profile/profile-image.png" alt="" />
                        </div>
                        <div>
                          <h6 class="fw-500">Adam Joe</h6>
                          <p>Admin</p>
                        </div>
                      </div>
                    </div>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profile">
                    <li>
                      <div class="author-info flex items-center !p-1">
                        <div class="image">
                          <img src="assets/images/profile/profile-image.png" alt="image">
                        </div>
                        <div class="content">
                          <h4 class="text-sm">Adam Joe</h4>
                          <a class="text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white text-xs" href="#">Email@gmail.com</a>
                        </div>
                      </div>
                    </li>
                    <li class="divider"></li>
                    <li>
                      <a href="#0">
                        <i class="lni lni-user"></i> View Profile
                      </a>
                    </li>
                    <li class="divider"></li>
                    <li>
                      <a href="#0" onclick="window.location.href='../index.html'; return false;"> <i class="lni lni-exit"></i> Sign Out </a>
                    </li>
                  </ul>
                </div>
                <!-- profile end -->
              </div>
            </div>
          </div>
        </div>
      </header>
      <!-- ========== header end ========== -->

      <!-- ========== section start ========== -->
      <section class="section">
        <div class="container-fluid">
          <!-- ========== title-wrapper start ========== -->
          <div class="title-wrapper pt-30">
            <div class="row align-items-center">
              <div class="col-md-6">
                <div class="title">
                  <h2>Public Advisory & Emergency Bulletin Board</h2>
                  <p style="color: #666; font-size: 14px; margin-top: 5px;">Real-time alerts, safety notices, and emergency announcements for San Juan CEDOC</p>
                </div>
              </div>
              <!-- end col -->
              <div class="col-md-6">
                <div class="header-actions">
                  <span class="time-display" id="liveTime">00:00:00 AM</span>
                  <button class="btn-refresh-icon" onclick="location.reload()" title="Refresh">
                    <i class="lni lni-reload"></i>
                  </button>
                </div>
              </div>
              <!-- end col -->
            </div>
            <!-- end row -->
          </div>
          <!-- ========== title-wrapper end ========== -->

          <style>
            .switchable-section{display:none}
            .switchable-section.active{display:block;animation:fadeIn .25s ease-in}
            @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
            .priority-critical { background: #ffebee !important; border-left: 4px solid #dc3545; }
            .priority-high { background: #fff3e0 !important; border-left: 4px solid #ff9800; }
            .priority-medium { background: #e3f2fd !important; border-left: 4px solid #2196f3; }
            .priority-low { background: #f5f5f5 !important; border-left: 4px solid #9e9e9e; }
            .priority-badge { padding: 4px 12px; border-radius: 6px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.3px; }
            .priority-critical-badge { background: #dc3545; color: white; }
            .priority-high-badge { background: #ff9800; color: white; }
            .priority-medium-badge { background: #2196f3; color: white; }
            .priority-low-badge { background: #9e9e9e; color: white; }
            .pin-btn { cursor: pointer; color: #ffc107; font-size: 18px; }
            .pin-btn.pinned { color: #ff6b6b; }
            .status-active { color: #27ae60; font-weight: 600; }
            .status-expired { color: #dc3545; font-weight: 600; }
            .audience-badge { display: inline-block; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 600; margin-right: 5px; }
            .audience-all { background: #e0e0e0; color: #333; }
            .audience-citizens { background: #e3f2fd; color: #1976d2; }
            .audience-responders { background: #fff3e0; color: #f57c00; }
            .audience-pwds { background: #f3e5f5; color: #7b1fa2; }
          </style>
          <div class="filter-buttons" style="margin-bottom: 25px;">
            <button type="button" id="btnActive" class="filter-badge active">
              <i class="lni lni-check-circle"></i> Active Advisories
            </button>
            <button type="button" id="btnAll" class="filter-badge">
              <i class="lni lni-list"></i> All Advisories
            </button>
            <button type="button" id="btnExpired" class="filter-badge">
              <i class="lni lni-archive"></i> Expired
            </button>
          </div>

          

          <!-- Active Advisories Section -->
          <div id="news-section" class="card-style mb-30 switchable-section active">
            <h3 class="section-title" style="margin-bottom: 20px;">
              <i class="lni lni-alert"></i> Active Advisory Bulletins
            </h3>

            <div class="entries-controls">
              <label>FILTER BY PRIORITY</label>
              <select>
                <option>All Levels</option>
                <option>üî¥ Critical</option>
                <option>üü† High</option>
                <option>üîµ Medium/Informational</option>
              </select>
              <label>SEARCH</label>
              <input type="text" placeholder="Search advisories..." />
            </div>

            <div class="table-responsive">
              <table class="table events-table">
                <thead>
                  <tr>
                    <th style="width: 5%;">PIN</th>
                    <th style="width: 8%;">ADVISORY ID</th>
                    <th style="width: 10%;">TYPE</th>
                    <th style="width: 20%;">TITLE</th>
                    <th style="width: 12%;">PRIORITY</th>
                    <th style="width: 15%;">TARGET AUDIENCE</th>
                    <th style="width: 15%;">DATE POSTED</th>
                    <th style="width: 8%;">EXPIRES</th>
                    <th style="width: 10%;">STATUS</th>
                    <th style="width: 12%;">ACTIONS</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Critical Alert -->
                  <tr class="priority-critical" data-id="ADV-2026-001" data-title="SEVERE WEATHER WARNING: High Wind Alert" data-type="üö® Emergency Advisory" data-priority="CRITICAL" data-audience="üåê All Citizens" data-date="Feb 7, 2026 | 14:30" data-status="‚úì Active" data-description="A severe high wind weather alert has been issued for San Juan City and surrounding areas. Sustained winds of 60-80 km/h with gusts up to 100 km/h are expected. All citizens are advised to stay indoors, secure loose outdoor items, avoid traveling if possible, and monitor local news for updates. This alert expires on Feb 8, 12:00 PM.">
                    <td><span class="pin-btn pinned">üìå</span></td>
                    <td><strong>ADV-2026-001</strong></td>
                    <td><span class="priority-badge priority-critical-badge">üö® Emergency Advisory</span></td>
                    <td><strong>SEVERE WEATHER WARNING: High Wind Alert</strong></td>
                    <td><span class="priority-badge priority-critical-badge">CRITICAL</span></td>
                    <td><span class="audience-badge audience-all">üåê All Citizens</span></td>
                    <td>Feb 7, 2026 | 14:30</td>
                    <td>Feb 8, 12:00</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>

                  <!-- High Priority -->
                  <tr class="priority-high" data-id="ADV-2026-002" data-title="Community Health Outreach - Free Medical Clinic" data-type="‚ö†Ô∏è Safety Notice" data-priority="HIGH" data-audience="‚ôø PWDs & Elderly" data-date="Feb 7, 2026 | 12:15" data-status="‚úì Active" data-description="The San Juan City Health Department is conducting a free medical clinic specially designed for Persons with Disabilities (PWDs) and elderly citizens. Services include general health check-ups, blood pressure screening, consultation with medical professionals, and assistance with health insurance enrollment. Location: City Convention Center, 2nd Floor. Hours: 8:00 AM - 5:00 PM daily until Feb 10.">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-002</strong></td>
                    <td><span class="priority-badge priority-high-badge">‚ö†Ô∏è Safety Notice</span></td>
                    <td>Community Health Outreach - Free Medical Clinic</td>
                    <td><span class="priority-badge priority-high-badge">HIGH</span></td>
                    <td><span class="audience-badge audience-pwds">‚ôø PWDs & Elderly</span></td>
                    <td>Feb 7, 2026 | 12:15</td>
                    <td>Feb 10, 18:00</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>

                  <!-- Weather Alert -->
                  <tr class="priority-high" data-id="ADV-2026-003" data-title="Heat Index Advisory: Extreme Heat Expected Today" data-type="üå¶Ô∏è Weather Alert" data-priority="HIGH" data-audience="üë• Citizens" data-date="Feb 7, 2026 | 08:00" data-status="‚úì Active" data-description="The Philippine Atmospheric, Geophysical and Astronomical Services Administration (PAGASA) has issued a Heat Index Advisory for San Juan City. Heat Index levels are expected to reach 40-42¬∞C today. Heat safety tips: Stay hydrated, avoid prolonged sun exposure, wear light-colored clothing, check on elderly neighbors, and limit outdoor activities. This advisory expires at 8:00 PM today.">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-003</strong></td>
                    <td><span class="priority-badge priority-high-badge">üå¶Ô∏è Weather Alert</span></td>
                    <td>Heat Index Advisory: Extreme Heat Expected Today</td>
                    <td><span class="priority-badge priority-high-badge">HIGH</span></td>
                    <td><span class="audience-badge audience-citizens">üë• Citizens</span></td>
                    <td>Feb 7, 2026 | 08:00</td>
                    <td>Feb 7, 20:00</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>

                  <!-- News/Info -->
                  <tr class="priority-medium" data-id="ADV-2026-004" data-title="San Juan City Launches Community Safety Program" data-type="üì∞ News" data-priority="MEDIUM" data-audience="üåê All Citizens" data-date="Feb 6, 2026 | 10:30" data-status="‚úì Active" data-description="San Juan City Government has officially launched the 'Community Safety First' program aimed at reducing crime and improving public safety. Key initiatives include increased patrols in high-risk areas, community-police partnerships, street lighting improvements, and youth engagement programs. Citizens are encouraged to report suspicious activities to the hotline: 02-234-5678. Community meetings scheduled for Feb 10 and Feb 17 at city hall.">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-004</strong></td>
                    <td><span class="priority-badge priority-medium-badge">üì∞ News</span></td>
                    <td>San Juan City Launches Community Safety Program</td>
                    <td><span class="priority-badge priority-medium-badge">MEDIUM</span></td>
                    <td><span class="audience-badge audience-all">üåê All Citizens</span></td>
                    <td>Feb 6, 2026 | 10:30</td>
                    <td>Feb 13, 23:59</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>

                  <!-- Responder Notice -->
                  <tr class="priority-medium" data-id="ADV-2026-005" data-title="Traffic Advisory: Road Closure on Main Street for Maintenance" data-type="üëÆ Responder Notice" data-priority="MEDIUM" data-audience="üëÆ Responders" data-date="Feb 6, 2026 | 16:45" data-status="‚úì Active" data-description="Main Street will be closed from 10:00 PM to 5:00 AM from Feb 7-9 for urgent road maintenance and pothole repairs. All emergency responders should use alternate routes: San Pedro Avenue or Jorge Avenue. For dispatch coordination, contact CEDOC at extension 204. Affected area: Main Street between Bonifacio and Luna intersections. Estimated completion: Feb 9, 6:00 AM.">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-005</strong></td>
                    <td><span class="priority-badge priority-medium-badge">üëÆ Responder Notice</span></td>
                    <td>Traffic Advisory: Road Closure on Main Street for Maintenance</td>
                    <td><span class="priority-badge priority-medium-badge">MEDIUM</span></td>
                    <td><span class="audience-badge audience-responders">üëÆ Responders</span></td>
                    <td>Feb 6, 2026 | 16:45</td>
                    <td>Feb 9, 18:00</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>

                  <!-- Low Priority Info -->
                  <tr class="priority-low" data-id="ADV-2026-006" data-title="Schedule: Barangay Assembly Meeting Next Week" data-type="‚ÑπÔ∏è Information" data-priority="LOW" data-audience="üåê All Citizens" data-date="Feb 5, 2026 | 14:00" data-status="‚úì Active" data-description="The monthly Barangay Assembly meeting of Barangay Kristong Hari is scheduled for Feb 12, 2026 at 2:00 PM at the Barangay Hall. All residents are welcome to attend. Topics to be discussed: infrastructure projects, community programs, and budget allocation. For more information, contact the Barangay Secretary at (02) 123-4567 or visit the official barangay website.">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-006</strong></td>
                    <td><span class="priority-badge priority-low-badge">‚ÑπÔ∏è Information</span></td>
                    <td>Schedule: Barangay Assembly Meeting Next Week</td>
                    <td><span class="priority-badge priority-low-badge">LOW</span></td>
                    <td><span class="audience-badge audience-all">üåê All Citizens</span></td>
                    <td>Feb 5, 2026 | 14:00</td>
                    <td>Feb 12, 23:59</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>
                </tbody>
              </table>
            </div>

            <button class="btn-add-new" style="background: #27ae60;">
              <i class="lni lni-plus"></i> ADD NEW ADVISORY
            </button>
            <div style="clear: both;"></div>
          </div>

          <!-- All/Expired Advisories Section -->
          <div id="events-section" class="card-style mb-30 switchable-section">
            <h3 class="section-title" style="margin-bottom: 20px;">
              <i class="lni lni-folder-alt"></i> All Public Advisories
            </h3>

            <div class="entries-controls">
              <label>FILTER BY TYPE</label>
              <select>
                <option>All Types</option>
                <option>Emergency Advisory</option>
                <option>Weather Alert</option>
                <option>Safety Notice</option>
                <option>News</option>
              </select>
              <label>SEARCH</label>
              <input type="text" placeholder="Search all advisories..." />
            </div>

            <div class="table-responsive">
              <table class="table events-table">
                <thead>
                  <tr>
                    <th style="width: 5%;">PIN</th>
                    <th style="width: 8%;">ADVISORY ID</th>
                    <th style="width: 10%;">TYPE</th>
                    <th style="width: 20%;">TITLE</th>
                    <th style="width: 12%;">PRIORITY</th>
                    <th style="width: 15%;">TARGET AUDIENCE</th>
                    <th style="width: 15%;">DATE POSTED</th>
                    <th style="width: 10%;">STATUS</th>
                    <th style="width: 12%;">ACTIONS</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Expired Example -->
                  <tr style="opacity: 0.7; background: #f5f5f5;">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-009</strong></td>
                    <td><span class="priority-badge priority-low-badge">üå¶Ô∏è Weather</span></td>
                    <td>Heavy Rain Warning - Expired</td>
                    <td><span class="priority-badge priority-low-badge">MEDIUM</span></td>
                    <td><span class="audience-badge audience-all">üåê All</span></td>
                    <td>Feb 4, 2026 | 09:00</td>
                    <td><span class="status-expired">‚úï Expired (Feb 5)</span></td>
                    <td><button class="btn btn-sm btn-secondary">Archive</button></td>
                  </tr>

                  <!-- Previous News -->
                  <tr data-id="ADV-2026-007" data-title="Municipal Hall Renovation Project Updates" data-type="üì∞ News" data-priority="LOW" data-audience="üåê All Citizens" data-date="Feb 3, 2026 | 11:20" data-status="‚úì Active" data-description="Updates on the San Juan City Municipal Hall renovation project: Phase 2 (interior electrical systems) began on Feb 1 and is 40% complete. Expected completion of all phases: June 2026. Temporary offices have been set up at the Extension Building across the street. Walk-in services available Monday-Friday 8:00 AM - 4:00 PM. For inquiries, call the main hotline at 02-456-7890.">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-007</strong></td>
                    <td><span class="priority-badge priority-medium-badge">üì∞ News</span></td>
                    <td>Municipal Hall Renovation Project Updates</td>
                    <td><span class="priority-badge priority-medium-badge">LOW</span></td>
                    <td><span class="audience-badge audience-all">üåê All Citizens</span></td>
                    <td>Feb 3, 2026 | 11:20</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>

                  <!-- Previous Alert -->
                  <tr data-id="ADV-2026-008" data-title="Dengue Prevention Awareness Campaign" data-type="‚ö†Ô∏è Safety Notice" data-priority="HIGH" data-audience="üë• Citizens" data-date="Feb 2, 2026 | 15:45" data-status="‚úì Active" data-description="The San Juan City Health Office launches an intensive Dengue Prevention Awareness Campaign. Dengue cases have increased by 15% in the city. Preventive measures: Eliminate standing water, use mosquito screens, wear protective clothing during dawn/dusk, and report vector problems to the city health office. Free fumigation services available in all barangays. Dengue hotline: 02-789-0123. Symptoms: sudden fever, severe headache, muscle pain, rash. Seek medical attention immediately.">
                    <td><span class="pin-btn">üìç</span></td>
                    <td><strong>ADV-2026-008</strong></td>
                    <td><span class="priority-badge priority-high-badge">‚ö†Ô∏è Safety Notice</span></td>
                    <td>Dengue Prevention Awareness Campaign</td>
                    <td><span class="priority-badge priority-high-badge">HIGH</span></td>
                    <td><span class="audience-badge audience-citizens">üë• Citizens</span></td>
                    <td>Feb 2, 2026 | 15:45</td>
                    <td><span class="status-active">‚úì Active</span></td>
                    <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
                  </tr>
                </tbody>
              </table>
            </div>

            <button class="btn-add-new" style="background: #27ae60;">
              <i class="lni lni-plus"></i> ADD NEW ADVISORY
            </button>
            <div style="clear: both;"></div>
          </div>

        </div>
        <!-- end container -->
      </section>
      <!-- ========== section end ========== -->

      <!-- ========== footer start =========== -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6 order-last order-md-first">
              <div class="copyright text-center text-md-start">
                <p class="text-sm">
                  PULSE Admin Dashboard
                </p>
              </div>
            </div>
            <!-- end col-->
            <div class="col-md-6">
              <div class="terms d-flex justify-content-center justify-content-md-end">
                <a href="#0" class="text-sm">Term & Conditions</a>
                <a href="#0" class="text-sm ml-15">Privacy & Policy</a>
              </div>
            </div>
          </div>
          <!-- end row -->
        </div>
        <!-- end container -->
      </footer>
      <!-- ========== footer end =========== -->
    </main>
    <!-- ======== main-wrapper end =========== -->

    <!-- ========= All Javascript files linkup ======== -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- ========= Advisory View Modal ========== -->
    <div id="advisoryModal" class="advisory-modal-overlay">
      <div class="advisory-modal-content">
        <div class="advisory-modal-header">
          <h2 id="modalTitle">Advisory Details</h2>
          <button class="advisory-modal-close" onclick="closeAdvisoryModal()">&times;</button>
        </div>
        <div class="advisory-modal-body">
          <div class="advisory-detail-row">
            <span class="label">Advisory ID:</span>
            <span id="modalId" class="value"></span>
          </div>
          <div class="advisory-detail-row">
            <span class="label">Type:</span>
            <span id="modalType" class="value"></span>
          </div>
          <div class="advisory-detail-row">
            <span class="label">Priority Level:</span>
            <span id="modalPriority" class="value"></span>
          </div>
          <div class="advisory-detail-row">
            <span class="label">Target Audience:</span>
            <span id="modalAudience" class="value"></span>
          </div>
          <div class="advisory-detail-row">
            <span class="label">Date Posted:</span>
            <span id="modalDate" class="value"></span>
          </div>
          <div class="advisory-detail-row">
            <span class="label">Status:</span>
            <span id="modalStatus" class="value"></span>
          </div>
          <div class="advisory-detail-full">
            <h4>Details:</h4>
            <p id="modalDescription"></p>
          </div>
        </div>
        <div class="advisory-modal-footer">
          <button class="btn btn-secondary" onclick="closeAdvisoryModal()">Close</button>
          <button class="btn btn-primary">Edit</button>
        </div>
      </div>
    </div>

    <!-- ========= Edit Advisory Form Modal ========== -->
    <div id="editAdvisoryModal" class="advisory-modal-overlay">
      <div class="advisory-modal-content">
        <div class="advisory-modal-header">
          <h2>Edit Advisory</h2>
          <button class="advisory-modal-close" onclick="closeEditAdvisoryModal()">&times;</button>
        </div>
        <div class="advisory-modal-body">
          <form id="editAdvisoryForm">
            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Advisory ID (Read-only)</label>
              <input type="text" id="editFormId" class="form-control" readonly style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; background: #f5f5f5;">
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Advisory Type *</label>
              <select id="editFormType" class="form-control" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                <option value="">Select a type...</option>
                <option value="üö® Emergency Advisory">Emergency Advisory</option>
                <option value="‚ö†Ô∏è Safety Notice">Safety Notice</option>
                <option value="üå¶Ô∏è Weather Alert">Weather Alert</option>
                <option value="üì∞ News">News</option>
                <option value="‚ÑπÔ∏è Information">Information</option>
              </select>
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Advisory Title *</label>
              <input type="text" id="editFormTitle" class="form-control" placeholder="Enter advisory title" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Priority Level *</label>
              <select id="editFormPriority" class="form-control" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                <option value="">Select priority...</option>
                <option value="üî¥ CRITICAL">Critical</option>
                <option value="üü† HIGH">High</option>
                <option value="üîµ MEDIUM">Medium</option>
                <option value="üü¢ LOW">Low</option>
              </select>
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Target Audience *</label>
              <div style="display: flex; flex-direction: column; gap: 10px;">
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" class="edit-audience" value="üåê All Citizens" style="cursor: pointer;"> All Citizens
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" class="edit-audience" value="üë• Residents" style="cursor: pointer;"> Residents
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" class="edit-audience" value="üö® First Responders" style="cursor: pointer;"> First Responders
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" class="edit-audience" value="‚ôø PWDs/Vulnerable Groups" style="cursor: pointer;"> PWDs/Vulnerable Groups
                </label>
              </div>
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Description/Details *</label>
              <textarea id="editFormDescription" class="form-control" placeholder="Enter detailed description of the advisory" required rows="6" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-family: inherit;"></textarea>
            </div>
          </form>
        </div>
        <div class="advisory-modal-footer">
          <button type="button" class="btn btn-secondary" onclick="closeEditAdvisoryModal()">Cancel</button>
          <button type="button" class="btn btn-danger" style="margin-right: auto;" onclick="deleteAdvisory()">Delete</button>
          <button type="button" class="btn btn-primary" onclick="submitEditAdvisory()">Save Changes</button>
        </div>
      </div>
    </div>
    <div id="addAdvisoryModal" class="advisory-modal-overlay">
      <div class="advisory-modal-content">
        <div class="advisory-modal-header">
          <h2>Create New Advisory</h2>
          <button class="advisory-modal-close" onclick="closeAddAdvisoryModal()">&times;</button>
        </div>
        <div class="advisory-modal-body">
          <form id="addAdvisoryForm">
            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Advisory Type *</label>
              <select id="formType" class="form-control" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                <option value="">Select a type...</option>
                <option value="üö® Emergency Advisory">Emergency Advisory</option>
                <option value="‚ö†Ô∏è Safety Notice">Safety Notice</option>
                <option value="üå¶Ô∏è Weather">Weather Alert</option>
                <option value="üì∞ News">News</option>
                <option value="‚ÑπÔ∏è Information">Information</option>
              </select>
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Advisory Title *</label>
              <input type="text" id="formTitle" class="form-control" placeholder="Enter advisory title" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Priority Level *</label>
              <select id="formPriority" class="form-control" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                <option value="">Select priority...</option>
                <option value="üî¥ CRITICAL">Critical</option>
                <option value="üü† HIGH">High</option>
                <option value="üîµ MEDIUM">Medium</option>
                <option value="üü¢ LOW">Low</option>
              </select>
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Target Audience *</label>
              <div style="display: flex; flex-direction: column; gap: 10px;">
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" name="audience" value="üåê All Citizens" style="cursor: pointer;"> All Citizens
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" name="audience" value="üë• Residents" style="cursor: pointer;"> Residents
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" name="audience" value="üö® First Responders" style="cursor: pointer;"> First Responders
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="checkbox" name="audience" value="‚ôø PWDs/Vulnerable Groups" style="cursor: pointer;"> PWDs/Vulnerable Groups
                </label>
              </div>
            </div>

            <div style="margin-bottom: 20px;">
              <label class="form-label" style="font-weight: 600; margin-bottom: 8px; display: block;">Description/Details *</label>
              <textarea id="formDescription" class="form-control" placeholder="Enter detailed description of the advisory" required rows="6" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-family: inherit;"></textarea>
            </div>
          </form>
        </div>
        <div class="advisory-modal-footer">
          <button type="button" class="btn btn-secondary" onclick="closeAddAdvisoryModal()">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="submitAddAdvisory()">Create Advisory</button>
        </div>
      </div>
    </div>

    <!-- Advisory Modal CSS -->
    <style>
      /* Modal Overlay */
      .advisory-modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9999;
        opacity: 0;
        transition: opacity 0.3s ease;
        align-items: center;
        justify-content: center;
      }

      .advisory-modal-overlay.show {
        display: flex;
        opacity: 1;
      }

      /* Modal Content */
      .advisory-modal-content {
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        max-width: 600px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        animation: slideUp 0.3s ease;
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Modal Header */
      .advisory-modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 25px;
        border-bottom: 2px solid #f0f0f0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 12px 12px 0 0;
      }

      .advisory-modal-header h2 {
        margin: 0;
        font-size: 22px;
        font-weight: 700;
      }

      .advisory-modal-close {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        font-size: 32px;
        cursor: pointer;
        padding: 0;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.2s ease;
      }

      .advisory-modal-close:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: rotate(90deg);
      }

      /* Modal Body */
      .advisory-modal-body {
        padding: 25px;
      }

      .advisory-detail-row {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px solid #f0f0f0;
      }

      .advisory-detail-row .label {
        font-weight: 700;
        color: #555;
        min-width: 140px;
        font-size: 14px;
      }

      .advisory-detail-row .value {
        color: #333;
        font-size: 14px;
        word-break: break-word;
      }

      .advisory-detail-full {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 2px solid #f0f0f0;
      }

      .advisory-detail-full h4 {
        font-size: 16px;
        font-weight: 700;
        margin-bottom: 12px;
        color: #333;
      }

      .advisory-detail-full p {
        color: #555;
        line-height: 1.6;
        font-size: 14px;
        margin: 0;
      }

      /* Modal Footer */
      .advisory-modal-footer {
        display: flex;
        gap: 10px;
        justify-content: flex-end;
        padding: 20px 25px;
        border-top: 1px solid #f0f0f0;
        background: #f9f9f9;
        border-radius: 0 0 12px 12px;
      }

      .advisory-modal-footer .btn {
        padding: 10px 25px;
        font-size: 14px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 600;
      }

      .advisory-modal-footer .btn-secondary {
        background: #e0e0e0;
        color: #333;
      }

      .advisory-modal-footer .btn-secondary:hover {
        background: #d0d0d0;
      }

      .advisory-modal-footer .btn-primary {
        background: #667eea;
        color: white;
      }

      .advisory-modal-footer .btn-primary:hover {
        background: #5568d3;
      }

      /* Responsive Design */
      @media (max-width: 600px) {
        .advisory-modal-content {
          width: 95%;
          max-height: 85vh;
        }

        .advisory-modal-header {
          padding: 20px;
        }

        .advisory-modal-header h2 {
          font-size: 18px;
        }

        .advisory-modal-body {
          padding: 15px;
        }

        .advisory-detail-row {
          flex-direction: column;
          gap: 5px;
        }

        .advisory-detail-row .label {
          min-width: auto;
        }
      }
    </style>
    
    <!-- Accessibility Settings Modal -->
    <div class="modal fade" id="accessibilityModal" tabindex="-1" aria-labelledby="accessibilityModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="accessibilityModalLabel"><i class="lni lni-cog me-2"></i>PULSE Accessibility Settings</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row g-3">
              <!-- Text Size -->
              <div class="col-12">
                <div class="card p-3">
                  <div class="d-flex align-items-center mb-2">
                    <i class="lni lni-text-size me-2"></i>
                    <h6 class="m-0">Text Size</h6>
                    <span class="ms-auto text-muted text-size-indicator" id="currentTextSize">Medium</span>
                  </div>
                  <div class="d-flex flex-wrap gap-2">
                    <button class="btn btn-outline-secondary" id="btnSizeSm" aria-label="Small">A-</button>
                    <button class="btn btn-outline-secondary" id="btnSizeMd" aria-label="Medium">A</button>
                    <button class="btn btn-outline-secondary" id="btnSizeLg" aria-label="Large">A+</button>
                    <button class="btn btn-outline-secondary" id="btnSizeXl" aria-label="Extra Large">A++</button>
                  </div>
                </div>
              </div>

              <!-- High Contrast -->
              <div class="col-md-6">
                <div class="card p-3 d-flex align-items-center justify-content-between flex-row">
                  <div class="d-flex align-items-center">
                    <i class="lni lni-night me-2"></i>
                    <div>
                      <div class="fw-semibold">High Contrast (Dark)</div>
                      <small class="text-muted">Dark background, bright text</small>
                    </div>
                  </div>
                  <label class="switch ms-3"><input type="checkbox" id="toggleContrast"><span class="slider"></span></label>
                </div>
              </div>

              <!-- Color Blind Friendly -->
              <div class="col-md-6">
                <div class="card p-3 d-flex align-items-center justify-content-between flex-row">
                  <div class="d-flex align-items-center">
                    <i class="lni lni-palette me-2"></i>
                    <div>
                      <div class="fw-semibold">Color Blind Friendly</div>
                      <small class="text-muted">Safer palette for visibility</small>
                    </div>
                  </div>
                  <label class="switch ms-3"><input type="checkbox" id="toggleColorblind"><span class="slider"></span></label>
                </div>
              </div>

              <!-- Simple Mode -->
              <div class="col-md-6">
                <div class="card p-3 d-flex align-items-center justify-content-between flex-row">
                  <div class="d-flex align-items-center">
                    <i class="lni lni-layout me-2"></i>
                    <div>
                      <div class="fw-semibold">Simple Mode</div>
                      <small class="text-muted">Reduce clutter, larger controls</small>
                    </div>
                  </div>
                  <label class="switch ms-3"><input type="checkbox" id="toggleSimple"><span class="slider"></span></label>
                </div>
              </div>

              <!-- Reduce Motion -->
              <div class="col-md-6">
                <div class="card p-3 d-flex align-items-center justify-content-between flex-row">
                  <div class="d-flex align-items-center">
                    <i class="lni lni-shield me-2"></i>
                    <div>
                      <div class="fw-semibold">Reduce Motion</div>
                      <small class="text-muted">Disable animations and transitions</small>
                    </div>
                  </div>
                  <label class="switch ms-3"><input type="checkbox" id="toggleReduceMotion"><span class="slider"></span></label>
                </div>
              </div>

              <!-- Language & TTS -->
              <div class="col-md-6">
                <div class="card p-3">
                  <div class="d-flex align-items-center mb-2">
                    <i class="lni lni-world me-2"></i>
                    <h6 class="m-0">Language</h6>
                  </div>
                  <select class="form-select" id="selectLanguage" aria-label="Language">
                    <option value="en-US">English</option>
                    <option value="fil-PH">Filipino</option>
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card p-3">
                  <div class="d-flex align-items-center mb-2">
                    <i class="lni lni-mic me-2"></i>
                    <h6 class="m-0">Text-to-Speech</h6>
                  </div>
                  <button class="btn btn-primary w-100" id="btnReadAloud"><i class="lni lni-volume"></i> Read Page Aloud</button>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <script>
      // ========= Advisory Modal Functions =========
      function openAdvisoryModal(advisoryId) {
        const modal = document.getElementById('advisoryModal');
        
        // Find the row with this advisory ID
        const row = document.querySelector(`tr[data-id="${advisoryId}"]`);
        if (!row) return;

        // Populate modal with data from row attributes
        document.getElementById('modalId').textContent = row.getAttribute('data-id');
        document.getElementById('modalTitle').textContent = row.getAttribute('data-title');
        document.getElementById('modalType').textContent = row.getAttribute('data-type');
        document.getElementById('modalPriority').textContent = row.getAttribute('data-priority');
        document.getElementById('modalAudience').textContent = row.getAttribute('data-audience');
        document.getElementById('modalDate').textContent = row.getAttribute('data-date');
        document.getElementById('modalStatus').textContent = row.getAttribute('data-status');
        document.getElementById('modalDescription').textContent = row.getAttribute('data-description');

        // Show modal with animation
        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
      }

      function closeAdvisoryModal() {
        const modal = document.getElementById('advisoryModal');
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
      }

      // Add New Advisory Modal Functions
      function openAddAdvisoryModal() {
        const modal = document.getElementById('addAdvisoryModal');
        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
        // Clear form on open
        document.getElementById('addAdvisoryForm').reset();
      }

      function closeAddAdvisoryModal() {
        const modal = document.getElementById('addAdvisoryModal');
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
      }

      function submitAddAdvisory() {
        const form = document.getElementById('addAdvisoryForm');
        
        // Get form values
        const type = document.getElementById('formType').value;
        const title = document.getElementById('formTitle').value;
        const priority = document.getElementById('formPriority').value;
        const description = document.getElementById('formDescription').value;
        
        // Get selected audiences
        const audiences = Array.from(document.querySelectorAll('input[name="audience"]:checked'))
          .map(cb => cb.value);
        
        if (!type || !title || !priority || audiences.length === 0 || !description) {
          alert('Please fill in all required fields and select at least one audience.');
          return;
        }

        // Generate new advisory ID (format: ADV-YYYY-XXX)
        const currentYear = new Date().getFullYear();
        const existingAdvisories = document.querySelectorAll('tr[data-id^="ADV-"]');
        const maxNum = Math.max(
          ...Array.from(existingAdvisories).map(row => {
            const id = row.getAttribute('data-id');
            return parseInt(id.split('-').pop()) || 0;
          })
        );
        const newAdvisoryId = `ADV-${currentYear}-${String(maxNum + 1).padStart(3, '0')}`;

        // Get current date/time formatted
        const now = new Date();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const date = String(now.getDate()).padStart(2, '0');
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const dateString = `Feb ${date}, 2026 | ${hours}:${minutes}`;

        // Create new row
        const newRow = document.createElement('tr');
        newRow.setAttribute('data-id', newAdvisoryId);
        newRow.setAttribute('data-title', title);
        newRow.setAttribute('data-type', type);
        newRow.setAttribute('data-priority', priority);
        newRow.setAttribute('data-audience', audiences.join(', '));
        newRow.setAttribute('data-date', dateString);
        newRow.setAttribute('data-status', '‚úì Active');
        newRow.setAttribute('data-description', description);

        newRow.innerHTML = `
          <td><span class="pin-btn">üìç</span></td>
          <td><strong>${newAdvisoryId}</strong></td>
          <td><span class="priority-badge priority-medium-badge">${type}</span></td>
          <td>${title}</td>
          <td><span class="priority-badge priority-medium-badge">${priority}</span></td>
          <td>${audiences.map(a => `<span class="audience-badge audience-all">${a}</span>`).join(' ')}</td>
          <td>${dateString}</td>
          <td><span class="status-active">‚úì Active</span></td>
          <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
        `;

        // Add view button handler
        newRow.querySelector('.view-btn').addEventListener('click', (e) => {
          e.preventDefault();
          openAdvisoryModal(newAdvisoryId);
        });

        // Add edit button handler
        newRow.querySelector('.edit-btn').addEventListener('click', (e) => {
          e.preventDefault();
          openEditAdvisoryModal(newAdvisoryId);
        });

        // Add to active section table (find the first table in news-section)
        const activeTable = document.querySelector('#news-section tbody');
        if (activeTable) {
          activeTable.insertBefore(newRow, activeTable.firstChild);
        }

        // Close modal and show success
        closeAddAdvisoryModal();
        alert(`Advisory "${title}" created successfully with ID: ${newAdvisoryId}`);
      }

      // Edit Advisory Modal Functions
      let currentEditingAdvisoryId = null;

      function openEditAdvisoryModal(advisoryId) {
        const modal = document.getElementById('editAdvisoryModal');
        const row = document.querySelector(`tr[data-id="${advisoryId}"]`);
        
        if (!row) return;

        currentEditingAdvisoryId = advisoryId;

        // Populate form with current data
        document.getElementById('editFormId').value = advisoryId;
        document.getElementById('editFormType').value = row.getAttribute('data-type');
        document.getElementById('editFormTitle').value = row.getAttribute('data-title');
        document.getElementById('editFormPriority').value = row.getAttribute('data-priority');
        document.getElementById('editFormDescription').value = row.getAttribute('data-description');

        // Handle audience checkboxes
        const audiences = row.getAttribute('data-audience').split(', ');
        document.querySelectorAll('.edit-audience').forEach(checkbox => {
          checkbox.checked = audiences.includes(checkbox.value);
        });

        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
      }

      function closeEditAdvisoryModal() {
        const modal = document.getElementById('editAdvisoryModal');
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
        currentEditingAdvisoryId = null;
      }

      function submitEditAdvisory() {
        if (!currentEditingAdvisoryId) return;

        const type = document.getElementById('editFormType').value;
        const title = document.getElementById('editFormTitle').value;
        const priority = document.getElementById('editFormPriority').value;
        const description = document.getElementById('editFormDescription').value;
        
        // Get selected audiences
        const audiences = Array.from(document.querySelectorAll('.edit-audience:checked'))
          .map(cb => cb.value);
        
        if (!type || !title || !priority || audiences.length === 0 || !description) {
          alert('Please fill in all required fields and select at least one audience.');
          return;
        }

        // Update the row
        const row = document.querySelector(`tr[data-id="${currentEditingAdvisoryId}"]`);
        if (!row) return;

        row.setAttribute('data-title', title);
        row.setAttribute('data-type', type);
        row.setAttribute('data-priority', priority);
        row.setAttribute('data-audience', audiences.join(', '));
        row.setAttribute('data-description', description);

        // Update row HTML
        row.innerHTML = `
          <td><span class="pin-btn">üìç</span></td>
          <td><strong>${currentEditingAdvisoryId}</strong></td>
          <td><span class="priority-badge priority-medium-badge">${type}</span></td>
          <td>${title}</td>
          <td><span class="priority-badge priority-medium-badge">${priority}</span></td>
          <td>${audiences.map(a => `<span class="audience-badge audience-all">${a}</span>`).join(' ')}</td>
          <td>${row.cells[6].textContent}</td>
          <td><span class="status-active">‚úì Active</span></td>
          <td><button class="btn btn-sm btn-primary view-btn">View</button> <button class="btn btn-sm btn-warning edit-btn">Edit</button></td>
        `;

        // Re-wire the buttons
        row.querySelector('.view-btn').addEventListener('click', (e) => {
          e.preventDefault();
          openAdvisoryModal(currentEditingAdvisoryId);
        });

        row.querySelector('.edit-btn').addEventListener('click', (e) => {
          e.preventDefault();
          openEditAdvisoryModal(currentEditingAdvisoryId);
        });

        closeEditAdvisoryModal();
        alert(`Advisory "${title}" updated successfully`);
      }

      function deleteAdvisory() {
        if (!currentEditingAdvisoryId) return;

        if (confirm(`Are you sure you want to delete this advisory? This action cannot be undone.`)) {
          const row = document.querySelector(`tr[data-id="${currentEditingAdvisoryId}"]`);
          if (row) {
            row.remove();
            closeEditAdvisoryModal();
            alert('Advisory deleted successfully');
          }
        }
      }

      // Setup View button handlers
      document.addEventListener('DOMContentLoaded', () => {
        // Add click handler to all View buttons
        document.querySelectorAll('.view-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            e.preventDefault();
            // Get advisory ID from the closest tr element
            const row = btn.closest('tr');
            const advisoryId = row.getAttribute('data-id');
            openAdvisoryModal(advisoryId);
          });
        });

        // Add click handler to all Edit buttons
        document.querySelectorAll('.edit-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            e.preventDefault();
            const row = btn.closest('tr');
            const advisoryId = row.getAttribute('data-id');
            openEditAdvisoryModal(advisoryId);
          });
        });

        // Wire up Add New Advisory buttons
        document.querySelectorAll('.btn-add-new').forEach(btn => {
          btn.addEventListener('click', (e) => {
            e.preventDefault();
            openAddAdvisoryModal();
          });
        });

        // Close modal when clicking on overlay background (but not modal content)
        const modal = document.getElementById('advisoryModal');
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            closeAdvisoryModal();
          }
        });

        // Close add advisory modal when clicking on overlay
        const addModal = document.getElementById('addAdvisoryModal');
        addModal.addEventListener('click', (e) => {
          if (e.target === addModal) {
            closeAddAdvisoryModal();
          }
        });

        // Close edit advisory modal when clicking on overlay
        const editModal = document.getElementById('editAdvisoryModal');
        editModal.addEventListener('click', (e) => {
          if (e.target === editModal) {
            closeEditAdvisoryModal();
          }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            closeAdvisoryModal();
            closeAddAdvisoryModal();
            closeEditAdvisoryModal();
          }
        });
      });

      // Section switcher for advisory board
      function showSection(sectionKey) {
        const newsSection = document.getElementById('news-section');
        const eventsSection = document.getElementById('events-section');
        const btnActive = document.getElementById('btnActive');
        const btnAll = document.getElementById('btnAll');
        const btnExpired = document.getElementById('btnExpired');

        const showActive = sectionKey === 'active';
        const showAll = sectionKey === 'all';
        const showExpired = sectionKey === 'expired';
        
        newsSection?.classList.toggle('active', showActive);
        eventsSection?.classList.toggle('active', !showActive);
        btnActive?.classList.toggle('active', showActive);
        btnAll?.classList.toggle('active', showAll);
        btnExpired?.classList.toggle('active', showExpired);
      }

      // Wire buttons
      document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('btnActive')?.addEventListener('click', () => showSection('active'));
        document.getElementById('btnAll')?.addEventListener('click', () => showSection('all'));
        document.getElementById('btnExpired')?.addEventListener('click', () => showSection('expired'));
      });
      
      // Handle anchor link clicks on cards
      document.querySelectorAll('.update-card-btn').forEach(card => {
        card.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href').substring(1);
          const target = document.getElementById(targetId);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });

      // Accessibility: settings & persistence
      const ACCESS_KEYS = {
        textSize: 'access_text_size',
        contrastDark: 'access_contrast_dark',
        colorblind: 'access_colorblind',
        simple: 'access_simple',
        reduceMotion: 'access_reduce_motion',
        language: 'access_language'
      };

      function setRootFontSize(sizeKey) {
        const sizes = { sm: '14px', md: '16px', lg: '18px', xl: '20px' };
        const labels = { sm: 'Small', md: 'Medium', lg: 'Large', xl: 'Extra Large' };
        const val = sizes[sizeKey] || sizes.md;
        document.documentElement.style.fontSize = val;
        document.getElementById('currentTextSize').textContent = labels[sizeKey] || labels.md;
        localStorage.setItem(ACCESS_KEYS.textSize, sizeKey);
      }

      function applySettingsFromStorage() {
        const body = document.body;
        const size = localStorage.getItem(ACCESS_KEYS.textSize) || 'md';
        const contrast = localStorage.getItem(ACCESS_KEYS.contrastDark) === 'true';
        const cb = localStorage.getItem(ACCESS_KEYS.colorblind) === 'true';
        const simple = localStorage.getItem(ACCESS_KEYS.simple) === 'true';
        const rm = localStorage.getItem(ACCESS_KEYS.reduceMotion) === 'true';
        const lang = localStorage.getItem(ACCESS_KEYS.language) || 'en-US';

        setRootFontSize(size);
        document.getElementById('selectLanguage').value = lang;
        document.getElementById('toggleContrast')?.setAttribute('checked', contrast ? 'checked' : '');
        document.getElementById('toggleColorblind')?.setAttribute('checked', cb ? 'checked' : '');
        document.getElementById('toggleSimple')?.setAttribute('checked', simple ? 'checked' : '');
        document.getElementById('toggleReduceMotion')?.setAttribute('checked', rm ? 'checked' : '');

        body.classList.toggle('access-contrast-dark', contrast);
        body.classList.toggle('access-colorblind', cb);
        body.classList.toggle('access-simple', simple);
        body.classList.toggle('access-reduce-motion', rm);
        document.documentElement.lang = lang.startsWith('fil') ? 'fil' : 'en';
      }

      function toggleClassPersist(key, className, enabled) {
        localStorage.setItem(key, enabled ? 'true' : 'false');
        document.body.classList.toggle(className, enabled);
      }

      // Text-to-Speech
      function readPageAloud() {
        const synth = window.speechSynthesis;
        if (!synth) { alert('Speech synthesis not supported in this browser.'); return; }
        synth.cancel();
        const lang = localStorage.getItem(ACCESS_KEYS.language) || 'en-US';
        const text = document.querySelector('main')?.innerText || document.body.innerText;
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = lang;
        const voices = synth.getVoices();
        const match = voices.find(v => v.lang.toLowerCase().startsWith(lang.toLowerCase()));
        if (match) utter.voice = match;
        utter.rate = 0.95;
        utter.pitch = 1.0;
        synth.speak(utter);
      }

      document.addEventListener('DOMContentLoaded', () => {
        applySettingsFromStorage();

        // Text size controls
        document.getElementById('btnSizeSm')?.addEventListener('click', () => setRootFontSize('sm'));
        document.getElementById('btnSizeMd')?.addEventListener('click', () => setRootFontSize('md'));
        document.getElementById('btnSizeLg')?.addEventListener('click', () => setRootFontSize('lg'));
        document.getElementById('btnSizeXl')?.addEventListener('click', () => setRootFontSize('xl'));

        // Toggles
        document.getElementById('toggleContrast')?.addEventListener('change', (e) => {
          toggleClassPersist(ACCESS_KEYS.contrastDark, 'access-contrast-dark', e.target.checked);
        });
        document.getElementById('toggleColorblind')?.addEventListener('change', (e) => {
          toggleClassPersist(ACCESS_KEYS.colorblind, 'access-colorblind', e.target.checked);
        });
        document.getElementById('toggleSimple')?.addEventListener('change', (e) => {
          toggleClassPersist(ACCESS_KEYS.simple, 'access-simple', e.target.checked);
        });
        document.getElementById('toggleReduceMotion')?.addEventListener('change', (e) => {
          toggleClassPersist(ACCESS_KEYS.reduceMotion, 'access-reduce-motion', e.target.checked);
        });

        // Language select
        document.getElementById('selectLanguage')?.addEventListener('change', (e) => {
          const val = e.target.value;
          localStorage.setItem(ACCESS_KEYS.language, val);
          document.documentElement.lang = val.startsWith('fil') ? 'fil' : 'en';
        });

        // TTS
        document.getElementById('btnReadAloud')?.addEventListener('click', () => {
          // some browsers populate voices asynchronously
          if (speechSynthesis.getVoices().length === 0) {
            speechSynthesis.onvoiceschanged = readPageAloud;
          } else {
            readPageAloud();
          }
        });
      });
    </script>
    <script>
      function updateTime() {
        const now = new Date();
        const hours = now.getHours();
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        const ampm = hours >= 12 ? 'PM' : 'AM';
        const displayHours = String(hours % 12 || 12).padStart(2, '0');
        document.getElementById('liveTime').textContent = `${displayHours}:${minutes}:${seconds} ${ampm}`;
      }
      // Initialize on page load and update every second
      updateTime();
      setInterval(updateTime, 1000);
    </script>
    <script src="../dispatch/js/accessibility.js"></script>

    <!-- ========== Accessibility FAB ========== -->
    <button id="a11yFab" class="a11y-fab" title="Accessibility Settings" aria-label="Open Accessibility Settings">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="white"><path d="M12 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm9 7h-6l-1.41 7.06L16 22h-2.5l-1.5-5-1.5 5H8l2.41-5.94L9 9H3V7h18v2z"/></svg>
    </button>
    <div id="a11yOverlay" class="a11y-overlay"></div>
    <div id="a11yPanel" class="a11y-panel" role="dialog" aria-label="Accessibility Settings">
      <div class="a11y-panel-header"><h3><svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm9 7h-6l-1.41 7.06L16 22h-2.5l-1.5-5-1.5 5H8l2.41-5.94L9 9H3V7h18v2z"/></svg> Accessibility Settings</h3><button id="a11yCloseBtn" class="a11y-close-btn" aria-label="Close">&times;</button></div>
      <div class="a11y-panel-body">
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon purple"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5C10.55 5.4 8.45 5 6.5 5 5.33 5 4.11 5.15 3 5.5v14.07c0 .25.25.46.5.37C4.57 19.52 5.53 19.35 6.5 19.35c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5.97 0 1.93.09 2.88.36.23.07.62-.09.62-.36V5z"/></svg></span> Reading Assistance</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Text-to-Speech</strong><small>Click any text to hear it read aloud</small></div><label class="a11y-switch"><input type="checkbox" id="a11yTTS"><span class="a11y-slider"></span></label></div>
          <button id="a11yReadPage" class="a11y-read-page-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg> Read Page Aloud</button>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Dyslexia-Friendly Font</strong><small>Switch to OpenDyslexic typeface</small></div><label class="a11y-switch"><input type="checkbox" id="a11yDyslexia"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Text Size</strong><small>Adjust base text size</small></div><div class="a11y-range-wrap"><input type="range" id="a11yTextSize" class="a11y-range" min="80" max="200" step="10" value="100"><span id="a11yTextSizeVal" class="a11y-range-val">100%</span></div></div>
        </div>
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon blue"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></span> Visual Modes</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>High Contrast</strong><small>Dark background with bright text</small></div><label class="a11y-switch"><input type="checkbox" id="a11yContrast"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Large UI Elements</strong><small>Bigger buttons, text, and spacing</small></div><label class="a11y-switch"><input type="checkbox" id="a11yLargeUI"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Simple Mode</strong><small>Hide charts and non-essential details</small></div><label class="a11y-switch"><input type="checkbox" id="a11ySimple"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Colorblind Palette</strong><small>Adjusted colors for color vision deficiency</small></div><label class="a11y-switch"><input type="checkbox" id="a11yColorblind"><span class="a11y-slider"></span></label></div>
        </div>
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon amber"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg></span> Navigation & Feedback</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Voice Guidance</strong><small>Announce navigation changes aloud</small></div><label class="a11y-switch"><input type="checkbox" id="a11yVoice"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Icon Labels</strong><small>Show text labels alongside icons</small></div><label class="a11y-switch"><input type="checkbox" id="a11yIconLabels"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Confirmation Prompts</strong><small>Ask before critical actions</small></div><label class="a11y-switch"><input type="checkbox" id="a11yConfirm"><span class="a11y-slider"></span></label></div>
        </div>
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon red"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg></span> Emergency</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>One-Tap Emergency</strong><small>Show quick emergency shortcut button</small></div><label class="a11y-switch"><input type="checkbox" id="a11yEmergency"><span class="a11y-slider"></span></label></div>
          <button id="a11yEmergencyAction" class="a11y-emergency-btn" style="display:none;"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg> Send Emergency Alert</button>
        </div>
      </div>
      <div class="a11y-panel-footer"><button id="a11yResetBtn" class="a11y-reset-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg> Reset All Settings</button></div>
    </div>
  </body>
</html>
