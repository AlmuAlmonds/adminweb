<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../images/PULSE OG.png" type="image/png" />
    <title>PULSE ADMIN | User Management</title>

    <!-- ========== All CSS files linkup ========= -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/lineicons.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="assets/css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="../dispatch/css/accessibility.css" />
    <style>
      /* Stats Cards */
      .stat-card {
        background: #fff;
        border-radius: 12px;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        gap: 12px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        border: 1px solid #e5e7eb;
      }
      .stat-card .icon-box {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .stat-card .icon-box.citizens { background: #f3f4f6; color: #374151; }
      .stat-card .icon-box.responders { background: #fee2e2; color: #dc2626; }
      .stat-card .icon-box.admins { background: #ede9fe; color: #7c3aed; }
      .stat-card .icon-box.dispatchers { background: #fee2e2; color: #e74c3c; }
      .stat-card .icon-box.inactive { background: #e5e7eb; color: #6b7280; }
      .stat-card .stat-number { font-size: 20px; font-weight: 700; color: #111827; line-height: 1; }
      .stat-card .stat-label { font-size: 12px; color: #6b7280; margin-top: 1px; }

      /* Header bar */
      .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
      }
      .page-header h1 { font-size: 26px; font-weight: 700; color: #111827; margin: 0; }
      .header-actions { display: flex; align-items: center; gap: 12px; }
      .time-display { font-size: 14px; color: #6b7280; font-weight: 500; }
      .btn-refresh-icon {
        width: 40px; height: 40px; border-radius: 8px; border: 1px solid #e5e7eb;
        background: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer;
      }
      .btn-refresh-icon:hover { background: #f3f4f6; }

      /* Tabs */
      .tab-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 12px;
        margin-bottom: 20px;
        background: #f9fafb;
        padding: 8px 12px;
        border-radius: 10px;
      }
      .tab-buttons { display: flex; gap: 8px; flex-wrap: wrap; }
      .tab-btn {
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        border: none;
        cursor: pointer;
        background: transparent;
        color: #374151;
        transition: all 0.2s;
      }
      .tab-btn:hover { background: #e5e7eb; }
      .tab-btn.active { background: #ef4444; color: #fff; }
      .action-buttons { display: flex; gap: 10px; }
      .btn-export {
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        border: 1px solid #e5e7eb;
        background: #fff;
        color: #374151;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .btn-export:hover { background: #f3f4f6; }
      .btn-add-user {
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        border: none;
        background: #14b8a6;
        color: #fff;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .btn-add-user:hover { background: #0d9488; }

      /* Search bar */
      .search-bar {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      .search-input {
        flex: 1;
        min-width: 280px;
        padding: 12px 16px 12px 44px;
        border: 1px solid #e5e7eb;
        border-radius: 10px;
        font-size: 14px;
        background: #fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%239ca3af' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3C/svg%3E") 14px center no-repeat;
      }
      .search-input:focus { outline: none; border-color: #3b82f6; }
      .status-select {
        padding: 12px 16px;
        border: 1px solid #e5e7eb;
        border-radius: 10px;
        font-size: 14px;
        background: #fff;
        min-width: 140px;
      }

      /* Table */
      .users-table { width: 100%; border-collapse: separate; border-spacing: 0; }
      .users-table th {
        text-align: left;
        padding: 14px 16px;
        font-size: 12px;
        font-weight: 600;
        color: #6b7280;
        text-transform: uppercase;
        border-bottom: 1px solid #e5e7eb;
        background: #f9fafb;
      }
      .users-table td {
        padding: 16px;
        vertical-align: middle;
        border-bottom: 1px solid #f3f4f6;
        font-size: 14px;
        color: #374151;
      }
      .users-table tbody tr:nth-child(even) { background: #fef2f2; }
      .users-table tbody tr:hover { background: #eff6ff; }

      /* User cell */
      .user-cell { display: flex; align-items: center; gap: 12px; }
      .user-avatar {
        width: 40px; height: 40px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        font-weight: 700; font-size: 14px; color: #fff;
      }
      .user-name { font-weight: 600; color: #111827; }
      .user-email { font-size: 12px; color: #6b7280; }

      /* Role badges */
      .role-badge {
        display: inline-block;
        padding: 5px 14px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
      }
      .role-badge.citizen { background: #dbeafe; color: #1d4ed8; }
      .role-badge.responder { background: #ffedd5; color: #c2410c; }
      .role-badge.admin { background: #ede9fe; color: #6d28d9; }
      .role-badge.dispatcher { background: #fee2e2; color: #dc2626; }

      /* Status */
      .status-cell { display: flex; align-items: center; gap: 6px; }
      .status-dot { width: 8px; height: 8px; border-radius: 50%; }
      .status-dot.active { background: #22c55e; }
      .status-dot.inactive { background: #f59e0b; }

      /* Actions */
      .action-icons { display: flex; gap: 8px; }
      .action-icon {
        width: 32px; height: 32px; border-radius: 6px; border: 1px solid #e5e7eb;
        background: #fff; display: flex; align-items: center; justify-content: center;
        cursor: pointer; color: #6b7280; font-size: 16px;
      }
      .action-icon:hover { background: #f3f4f6; color: #111827; }

      /* Modal form */
      .form-label { font-weight: 600; color: #374151; margin-bottom: 6px; }
      .form-control, .form-select {
        border-radius: 8px;
        padding: 12px 14px;
        border: 1px solid #d1d5db;
      }
      .form-control:focus, .form-select:focus { border-color: #3b82f6; box-shadow: none; }
      .btn-save {
        background: #ef4444;
        color: #fff;
        border: none;
        padding: 12px 28px;
        border-radius: 8px;
        font-weight: 600;
      }
      .btn-save:hover { background: #dc2626; color: #fff; }
    </style>
  </head>
  <body>
    <!-- ======== Preloader =========== -->
    <div id="preloader">
      <div class="spinner"></div>
    </div>
    <!-- ======== Preloader =========== -->

    <!-- ======== sidebar-nav start =========== -->
    <aside class="sidebar-nav-wrapper">
      <div class="navbar-logo">
        <a href="index.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
          <img src="../images/PULSE OG.png" alt="logo" style="width: 45px; height: 45px; object-fit: contain;" />
          <span style="font-size: 18px; font-weight: 600; color: #3b5998;">PULSE Admin</span>
        </a>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <!-- Dashboard -->
          <li class="nav-item">
            <a href="index.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 13H10C10.55 13 11 12.55 11 12V4C11 3.45 10.55 3 10 3H4C3.45 3 3 3.45 3 4V12C3 12.55 3.45 13 4 13ZM4 21H10C10.55 21 11 20.55 11 20V16C11 15.45 10.55 15 10 15H4C3.45 15 3 15.45 3 16V20C3 20.55 3.45 21 4 21ZM14 21H20C20.55 21 21 20.55 21 20V12C21 11.45 20.55 11 20 11H14C13.45 11 13 11.45 13 12V20C13 20.55 13.45 21 14 21ZM13 4V8C13 8.55 13.45 9 14 9H20C20.55 9 21 8.55 21 8V4C21 3.45 20.55 3 20 3H14C13.45 3 13 3.45 13 4Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">Dashboard</span>
            </a>
          </li>

          <!-- Accounts -->
          <li class="nav-item active">
            <a href="accounts.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V19C4 19.55 4.45 20 5 20H19C19.55 20 20 19.55 20 19V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">User Management</span>
            </a>
          </li>
          <!-- News & Events -->
          <li class="nav-item" style="margin-bottom: 15px;">
            <a href="news-events.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM5 7H10V13H5V7ZM19 17H5V15H19V17ZM19 13H12V11H19V13ZM19 9H12V7H19V9Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">News & Events</span>
            </a>
          </li>
          <!-- Security Divider -->
          <li class="nav-item" style="pointer-events: none; margin-top: 10px;">
            <span style="display: flex; align-items: center; padding: 12px 20px; color: #ffc107; font-weight: 600; font-size: 13px; text-transform: uppercase; letter-spacing: 1px;">
              <span class="icon" style="margin-right: 10px;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z" fill="#ffc107"/>
                </svg>
              </span>
              Security
            </span>
          </li>
          <!-- Login Logs -->
          <li class="nav-item">
            <a href="loginlogs.html">
              <span class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z" fill="currentColor"/>
                </svg>
              </span>
              <span class="text">Logs</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>
    <div class="overlay"></div>
    <!-- ======== sidebar-nav end =========== -->

    <!-- ======== main-wrapper start =========== -->
    <main class="main-wrapper">
      <!-- ========== header start ========== -->
      <header class="header">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-5 col-md-5 col-6">
              <div class="header-left d-flex align-items-center">
                <div class="menu-toggle-btn mr-15">
                  <button id="menu-toggle" class="main-btn primary-btn btn-hover">
                    <i class="lni lni-chevron-left me-2"></i> Menu
                  </button>
                </div>
                <div class="header-search d-none d-md-flex">
                  <form action="#">
                    <input type="text" placeholder="Search for something" />
                    <button><i class="lni lni-search-alt"></i></button>
                  </form>
                </div>
              </div>
            </div>
            <div class="col-lg-7 col-md-7 col-6">
              <div class="header-right">
                <!-- notification start -->
                <div class="notification-box ml-15 d-none d-md-flex">
                  <button class="dropdown-toggle" type="button" id="notification" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M11 20.1667C9.88317 20.1667 8.88718 19.63 8.23901 18.7917H13.761C13.113 19.63 12.1169 20.1667 11 20.1667Z"
                        fill="" />
                      <path
                        d="M10.1157 2.74999C10.1157 2.24374 10.5117 1.83333 11 1.83333C11.4883 1.83333 11.8842 2.24374 11.8842 2.74999V2.82604C14.3932 3.26245 16.3051 5.52474 16.3051 8.24999V14.287C16.3051 14.5301 16.3982 14.7633 16.564 14.9352L18.2029 16.6342C18.4814 16.9229 18.2842 17.4167 17.8903 17.4167H4.10961C3.71574 17.4167 3.5185 16.9229 3.797 16.6342L5.43589 14.9352C5.6017 14.7633 5.69485 14.5301 5.69485 14.287V8.24999C5.69485 5.52474 7.60672 3.26245 10.1157 2.82604V2.74999Z"
                        fill="" />
                    </svg>
                    <span></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="notification">
                    <li>
                      <a href="#0">
                        <div class="image">
                          <img src="assets/images/lead/lead-6.png" alt="" />
                        </div>
                        <div class="content">
                          <h6>New account registered</h6>
                          <span>10 mins ago</span>
                        </div>
                      </a>
                    </li>
                  </ul>
                </div>
                <!-- notification end -->
                <!-- message start -->
                <div class="header-message-box ml-15 d-none d-md-flex">
                  <button class="dropdown-toggle" type="button" id="message" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M7.74866 5.97421C7.91444 5.96367 8.08162 5.95833 8.25005 5.95833C12.5532 5.95833 16.0417 9.4468 16.0417 13.75C16.0417 13.9184 16.0364 14.0856 16.0259 14.2514C16.3246 14.138 16.6127 14.003 16.8883 13.8482L19.2306 14.629C19.7858 14.8141 20.3141 14.2858 20.129 13.7306L19.3482 11.3882C19.8694 10.4604 20.1667 9.38996 20.1667 8.25C20.1667 4.70617 17.2939 1.83333 13.75 1.83333C11.0077 1.83333 8.66702 3.55376 7.74866 5.97421Z"
                        fill="" />
                      <path
                        d="M14.6667 13.75C14.6667 17.2938 11.7939 20.1667 8.25004 20.1667C7.11011 20.1667 6.03962 19.8694 5.11182 19.3482L2.76946 20.129C2.21421 20.3141 1.68597 19.7858 1.87105 19.2306L2.65184 16.8882C2.13062 15.9604 1.83338 14.89 1.83338 13.75C1.83338 10.2062 4.70622 7.33333 8.25004 7.33333C11.7939 7.33333 14.6667 10.2062 14.6667 13.75ZM5.95838 13.75C5.95838 13.2437 5.54797 12.8333 5.04171 12.8333C4.53545 12.8333 4.12504 13.2437 4.12504 13.75C4.12504 14.2563 4.53545 14.6667 5.04171 14.6667C5.54797 14.6667 5.95838 14.2563 5.95838 13.75ZM9.16671 13.75C9.16671 13.2437 8.7563 12.8333 8.25004 12.8333C7.74379 12.8333 7.33338 13.2437 7.33338 13.75C7.33338 14.2563 7.74379 14.6667 8.25004 14.6667C8.7563 14.6667 9.16671 14.2563 9.16671 13.75ZM11.4584 14.6667C11.9647 14.6667 12.375 14.2563 12.375 13.75C12.375 13.2437 11.9647 12.8333 11.4584 12.8333C10.9521 12.8333 10.5417 13.2437 10.5417 13.75C10.5417 14.2563 10.9521 14.6667 11.4584 14.6667Z"
                        fill="" />
                    </svg>
                    <span></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="message">
                    <li>
                      <a href="#0">
                        <div class="image">
                          <img src="assets/images/lead/lead-5.png" alt="" />
                        </div>
                        <div class="content">
                          <h6>Jacob Jones</h6>
                          <p>Account verified successfully</p>
                          <span>10 mins ago</span>
                        </div>
                      </a>
                    </li>
                  </ul>
                </div>
                <!-- message end -->
                <!-- profile start -->
                <div class="profile-box ml-15">
                  <button class="dropdown-toggle bg-transparent border-0" type="button" id="profile"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <div class="profile-info">
                      <div class="info">
                        <div class="image">
                          <img src="assets/images/profile/profile-image.png" alt="" />
                        </div>
                        <div>
                          <h6 class="fw-500">Adam Joe</h6>
                          <p>Admin</p>
                        </div>
                      </div>
                    </div>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profile">
                    <li>
                      <div class="author-info flex items-center !p-1">
                        <div class="image">
                          <img src="assets/images/profile/profile-image.png" alt="image">
                        </div>
                        <div class="content">
                          <h4 class="text-sm">Adam Joe</h4>
                          <a class="text-black/40 dark:text-white/40 hover:text-black dark:hover:text-white text-xs" href="#">Email@gmail.com</a>
                        </div>
                      </div>
                    </li>
                    <li class="divider"></li>
                    <li>
                      <a href="#0">
                        <i class="lni lni-user"></i> View Profile
                      </a>
                    </li>
                    <li>
                      <a href="#0">
                        <i class="lni lni-alarm"></i> Notifications
                      </a>
                    </li>
                    <li>
                      <a href="#0"> <i class="lni lni-inbox"></i> Messages </a>
                    </li>
                    <li class="divider"></li>
                    <li>
                      <a href="#0"> <i class="lni lni-exit"></i> Sign Out </a>
                    </li>
                  </ul>
                </div>
                <!-- profile end -->
              </div>
            </div>
          </div>
        </div>
      </header>
      <!-- ========== header end ========== -->

      <!-- ========== section start ========== -->
      <section class="section">
        <div class="container-fluid">
          <!-- Page Header -->
          <div class="page-header pt-30">
            <div class="d-flex align-items-center gap-3">
              <div>
                <h1>User Management</h1>
                <p style=\"color: #666; font-size: 14px; margin-top: 5px; margin-bottom: 0;\">Manage user accounts, roles, and system access across all platforms</p>
              </div>
            </div>
            <div class="header-actions">
              <span class="time-display" id="liveTime">06:25:51 PM</span>
              <button class="btn-refresh-icon" onclick="location.reload()" title="Refresh">
                <i class="lni lni-reload"></i>
              </button>
            </div>
          </div>

          <!-- Stats Cards -->
          <div class="row g-3 mb-4">
            <div class="col-lg-2 col-md-4 col-sm-6">
              <div class="stat-card">
                <div class="icon-box citizens">
                  <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"/></svg>
                </div>
                <div>
                  <div class="stat-number" id="statCitizens">4</div>
                  <div class="stat-label">Citizens</div>
                </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
              <div class="stat-card">
                <div class="icon-box responders">
                  <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                </div>
                <div>
                  <div class="stat-number" id="statResponders">2</div>
                  <div class="stat-label">Responders</div>
                </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
              <div class="stat-card">
                <div class="icon-box admins">
                  <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>
                </div>
                <div>
                  <div class="stat-number" id="statAdmins">2</div>
                  <div class="stat-label">Admins</div>
                </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
              <div class="stat-card">
                <div class="icon-box dispatchers">
                  <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
                </div>
                <div>
                  <div class="stat-number" id="statDispatchers">2</div>
                  <div class="stat-label">Dispatchers</div>
                </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-6">
              <div class="stat-card">
                <div class="icon-box inactive">
                  <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"/></svg>
                </div>
                <div>
                  <div class="stat-number" id="statBlacklisted">1</div>
                  <div class="stat-label">Blacklisted</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Tab Bar -->
          <div class="tab-bar">
            <div class="tab-buttons">
              <button class="tab-btn active" data-filter="all" onclick="filterUsers(this, 'all')">All Users</button>
              <button class="tab-btn" data-filter="citizen" onclick="filterUsers(this, 'citizen')">Citizens</button>
              <button class="tab-btn" data-filter="responder" onclick="filterUsers(this, 'responder')">Responders</button>
              <button class="tab-btn" data-filter="admin" onclick="filterUsers(this, 'admin')">Admins</button>
              <button class="tab-btn" data-filter="dispatcher" onclick="filterUsers(this, 'dispatcher')">Dispatchers</button>
              <button class="tab-btn" data-filter="blacklisted" onclick="filterUsers(this, 'blacklisted')">Blacklisted</button>
            </div>
            <div class="action-buttons">
              <button class="btn-export"><i class="lni lni-download"></i> Export</button>
              <button class="btn-add-user" data-bs-toggle="modal" data-bs-target="#userModal" onclick="openAddModal()"><i class="lni lni-plus"></i> Add User</button>
            </div>
          </div>

          <!-- Search Bar -->
          <div class="search-bar">
            <input type="text" class="search-input" id="searchInput" placeholder="Search by name, email, or phone..." oninput="searchUsers()">
            <select class="status-select" id="statusFilter" onchange="searchUsers()">
              <option value="">All Status</option>
              <option value="active">Active</option>
              <option value="blacklisted">Blacklisted</option>
            </select>
          </div>

          <!-- Users Table -->
          <div class="card-style mb-30" style="padding: 0; overflow: hidden;">
            <div class="table-responsive">
              <table class="users-table" id="usersTable">
                <thead>
                  <tr>
                    <th>USER</th>
                    <th>ROLE</th>
                    <th>PHONE</th>
                    <th>REGISTERED</th>
                    <th>STATUS</th>
                    <th>ACTIONS</th>
                  </tr>
                </thead>
                <tbody id="usersTableBody">
                  <!-- Rows injected by JS -->
                </tbody>
              </table>
            </div>
          </div>

        </div>
        <!-- end container -->
      </section>
      <!-- ========== section end ========== -->

      <!-- ========== footer start =========== -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6 order-last order-md-first">
              <div class="copyright text-center text-md-start">
                <p class="text-sm">
                  PULSE Admin Dashboard
                </p>
              </div>
            </div>
            <!-- end col-->
            <div class="col-md-6">
              <div class="terms d-flex justify-content-center justify-content-md-end">
                <a href="#0" class="text-sm">Term & Conditions</a>
                <a href="#0" class="text-sm ml-15">Privacy & Policy</a>
              </div>
            </div>
          </div>
          <!-- end row -->
        </div>
        <!-- end container -->
      </footer>
      <!-- ========== footer end =========== -->
    </main>
    <!-- ======== main-wrapper end =========== -->

    <!-- ========= All Javascript files linkup ======== -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- Edit/Add User Modal -->
    <div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title" id="userModalLabel">Edit User</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <input type="hidden" id="editUserId">
            <div class="mb-3">
              <label class="form-label">Full Name</label>
              <input type="text" class="form-control" id="inputName" placeholder="Enter full name">
            </div>
            <div class="mb-3">
              <label class="form-label">Email Address</label>
              <input type="email" class="form-control" id="inputEmail" placeholder="Enter email address">
            </div>
            <div class="mb-3">
              <label class="form-label">Phone Number</label>
              <input type="text" class="form-control" id="inputPhone" placeholder="+63 9XX XXX XXXX">
            </div>
            <div class="mb-3">
              <label class="form-label">Role</label>
              <select class="form-select" id="inputRole">
                <option value="citizen">Citizen</option>
                <option value="responder">Responder</option>
                <option value="admin">Admin</option>
                <option value="dispatcher">Dispatcher</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label">Status</label>
              <select class="form-select" id="inputStatus">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>
          </div>
          <div class="modal-footer border-0">
            <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-save" onclick="saveUser()">Save User</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Sample user data
      let users = [
        { id: 1, name: 'Juan Dela Cruz', email: 'juan@email.com', phone: '+63 917 123 4567', role: 'citizen', status: 'active', registered: '2025-06-15' },
        { id: 2, name: 'Maria Santos', email: 'maria@cedoc.gov.ph', phone: '+63 918 234 5678', role: 'responder', status: 'active', registered: '2025-03-22' },
        { id: 3, name: 'Pedro Reyes', email: 'pedro@cedoc.gov.ph', phone: '+63 919 345 6789', role: 'admin', status: 'active', registered: '2025-01-10' },
        { id: 4, name: 'Ana Garcia', email: 'ana@email.com', phone: '+63 920 456 7890', role: 'citizen', status: 'blacklisted', registered: '2025-08-05' },
        { id: 5, name: 'Diego Santos', email: 'diego@cedoc.gov.ph', phone: '+63 921 567 8901', role: 'dispatcher', status: 'active', registered: '2025-07-03' },
        { id: 6, name: 'Sofia Ramos', email: 'sofia@cedoc.gov.ph', phone: '+63 922 678 9012', role: 'dispatcher', status: 'active', registered: '2025-05-30' },
        { id: 7, name: 'Carlos Mendoza', email: 'carlos@email.com', phone: '+63 921 567 8901', role: 'citizen', status: 'active', registered: '2025-04-18' },
        { id: 8, name: 'Elena Villanueva', email: 'elena@cedoc.gov.ph', phone: '+63 922 678 9012', role: 'responder', status: 'active', registered: '2025-02-28' },
        { id: 9, name: 'Roberto Cruz', email: 'roberto@email.com', phone: '+63 923 789 0123', role: 'citizen', status: 'active', registered: '2025-07-12' },
        { id: 10, name: 'Juan Dela Cruz', email: 'juan@email.com', phone: '+63 925 901 2345', role: 'admin', status: 'blacklisted', registered: '2025-06-15' },
        { id: 11, name: 'Sofia Ramos', email: 'sofia@cedoc.gov.ph', phone: '+63 924 890 1234', role: 'admin', status: 'active', registered: '2025-05-30' }
      ];

      let currentFilter = 'all';

      // Avatar colors by role
      const avatarColors = { citizen: '#3b82f6', responder: '#f97316', admin: '#8b5cf6', dispatcher: '#dc2626' };

      // Get initials
      function getInitials(name) {
        return name.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
      }

      // Render table
      function renderUsers() {
        const tbody = document.getElementById('usersTableBody');
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        const statusVal = document.getElementById('statusFilter').value;

        let filtered = users.filter(u => {
          let matchFilter;
          if (currentFilter === 'all') {
            matchFilter = true;
          } else if (currentFilter === 'blacklisted') {
            matchFilter = u.status === 'blacklisted';
          } else {
            matchFilter = u.role === currentFilter;
          }
          const matchSearch = u.name.toLowerCase().includes(searchTerm) || u.email.toLowerCase().includes(searchTerm) || u.phone.includes(searchTerm);
          const matchStatus = !statusVal || u.status === statusVal;
          return matchFilter && matchSearch && matchStatus;
        });

        tbody.innerHTML = filtered.map(u => `
          <tr data-id="${u.id}">
            <td>
              <div class="user-cell">
                <div class="user-avatar" style="background:${avatarColors[u.role]}">${getInitials(u.name)}</div>
                <div>
                  <div class="user-name">${u.name}</div>
                  <div class="user-email">${u.email}</div>
                </div>
              </div>
            </td>
            <td><span class="role-badge ${u.role}">${u.role.charAt(0).toUpperCase() + u.role.slice(1)}</span></td>
            <td>${u.phone}</td>
            <td>${u.registered}</td>
            <td>
              <div class="status-cell">
                <span class="status-dot ${u.status}"></span>
                ${u.status.charAt(0).toUpperCase() + u.status.slice(1)}
              </div>
            </td>
            <td>
              <div class="action-icons">
                <button class="action-icon" title="View" onclick="viewUser(${u.id})"><i class="lni lni-eye"></i></button>
                <button class="action-icon" title="Edit" onclick="editUser(${u.id})"><i class="lni lni-pencil"></i></button>
                <button class="action-icon" title="${u.status === 'active' ? 'Disable' : 'Enable'}" onclick="toggleStatus(${u.id})">
                  <i class="lni lni-${u.status === 'active' ? 'close' : 'checkmark'}"></i>
                </button>
              </div>
            </td>
          </tr>
        `).join('');

        updateStats();
      }

      // Update stats
      function updateStats() {
        document.getElementById('statCitizens').textContent = users.filter(u => u.role === 'citizen').length;
        document.getElementById('statResponders').textContent = users.filter(u => u.role === 'responder').length;
        document.getElementById('statAdmins').textContent = users.filter(u => u.role === 'admin').length;
        document.getElementById('statDispatchers').textContent = users.filter(u => u.role === 'dispatcher').length;
        document.getElementById('statBlacklisted').textContent = users.filter(u => u.status === 'blacklisted').length;
      }

      // Filter users by tab
      function filterUsers(btn, filter) {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentFilter = filter;
        renderUsers();
      }

      // Search users
      function searchUsers() {
        renderUsers();
      }

      // Open add modal
      function openAddModal() {
        document.getElementById('userModalLabel').textContent = 'Add User';
        document.getElementById('editUserId').value = '';
        document.getElementById('inputName').value = '';
        document.getElementById('inputEmail').value = '';
        document.getElementById('inputPhone').value = '';
        document.getElementById('inputRole').value = 'citizen';
        document.getElementById('inputStatus').value = 'active';
      }

      // Edit user
      function editUser(id) {
        const user = users.find(u => u.id === id);
        if (!user) return;
        document.getElementById('userModalLabel').textContent = 'Edit User';
        document.getElementById('editUserId').value = user.id;
        document.getElementById('inputName').value = user.name;
        document.getElementById('inputEmail').value = user.email;
        document.getElementById('inputPhone').value = user.phone;
        document.getElementById('inputRole').value = user.role;
        document.getElementById('inputStatus').value = user.status;
        new bootstrap.Modal(document.getElementById('userModal')).show();
      }

      // View user (placeholder)
      function viewUser(id) {
        const user = users.find(u => u.id === id);
        alert(`Viewing: ${user.name}\nEmail: ${user.email}\nPhone: ${user.phone}\nRole: ${user.role}\nStatus: ${user.status}`);
      }

      // Toggle status
      function toggleStatus(id) {
        const user = users.find(u => u.id === id);
        if (user) {
          user.status = user.status === 'active' ? 'inactive' : 'active';
          renderUsers();
        }
      }

      // Save user
      function saveUser() {
        const id = document.getElementById('editUserId').value;
        const name = document.getElementById('inputName').value.trim();
        const email = document.getElementById('inputEmail').value.trim();
        const phone = document.getElementById('inputPhone').value.trim();
        const role = document.getElementById('inputRole').value;
        const status = document.getElementById('inputStatus').value;

        if (!name || !email) { alert('Please fill in name and email.'); return; }

        if (id) {
          const user = users.find(u => u.id == id);
          if (user) { user.name = name; user.email = email; user.phone = phone; user.role = role; user.status = status; }
        } else {
          const newId = Math.max(...users.map(u => u.id)) + 1;
          users.push({ id: newId, name, email, phone, role, status, registered: new Date().toISOString().split('T')[0] });
        }

        bootstrap.Modal.getInstance(document.getElementById('userModal')).hide();
        renderUsers();
      }

      // Live time
      function updateTime() {
        const now = new Date();
        document.getElementById('liveTime').textContent = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
      }

      // Init
      document.addEventListener('DOMContentLoaded', () => {
        renderUsers();
        updateTime();
        setInterval(updateTime, 1000);
      });
    </script>
    <script src="../dispatch/js/accessibility.js"></script>

    <!-- ========== Accessibility FAB ========== -->
    <button id="a11yFab" class="a11y-fab" title="Accessibility Settings" aria-label="Open Accessibility Settings">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="white"><path d="M12 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm9 7h-6l-1.41 7.06L16 22h-2.5l-1.5-5-1.5 5H8l2.41-5.94L9 9H3V7h18v2z"/></svg>
    </button>
    <div id="a11yOverlay" class="a11y-overlay"></div>
    <div id="a11yPanel" class="a11y-panel" role="dialog" aria-label="Accessibility Settings">
      <div class="a11y-panel-header"><h3><svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm9 7h-6l-1.41 7.06L16 22h-2.5l-1.5-5-1.5 5H8l2.41-5.94L9 9H3V7h18v2z"/></svg> Accessibility Settings</h3><button id="a11yCloseBtn" class="a11y-close-btn" aria-label="Close">&times;</button></div>
      <div class="a11y-panel-body">
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon purple"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5C10.55 5.4 8.45 5 6.5 5 5.33 5 4.11 5.15 3 5.5v14.07c0 .25.25.46.5.37C4.57 19.52 5.53 19.35 6.5 19.35c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5.97 0 1.93.09 2.88.36.23.07.62-.09.62-.36V5z"/></svg></span> Reading Assistance</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Text-to-Speech</strong><small>Click any text to hear it read aloud</small></div><label class="a11y-switch"><input type="checkbox" id="a11yTTS"><span class="a11y-slider"></span></label></div>
          <button id="a11yReadPage" class="a11y-read-page-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg> Read Page Aloud</button>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Dyslexia-Friendly Font</strong><small>Switch to OpenDyslexic typeface</small></div><label class="a11y-switch"><input type="checkbox" id="a11yDyslexia"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Text Size</strong><small>Adjust base text size</small></div><div class="a11y-range-wrap"><input type="range" id="a11yTextSize" class="a11y-range" min="80" max="200" step="10" value="100"><span id="a11yTextSizeVal" class="a11y-range-val">100%</span></div></div>
        </div>
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon blue"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></span> Visual Modes</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>High Contrast</strong><small>Dark background with bright text</small></div><label class="a11y-switch"><input type="checkbox" id="a11yContrast"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Large UI Elements</strong><small>Bigger buttons, text, and spacing</small></div><label class="a11y-switch"><input type="checkbox" id="a11yLargeUI"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Simple Mode</strong><small>Hide charts and non-essential details</small></div><label class="a11y-switch"><input type="checkbox" id="a11ySimple"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Colorblind Palette</strong><small>Adjusted colors for color vision deficiency</small></div><label class="a11y-switch"><input type="checkbox" id="a11yColorblind"><span class="a11y-slider"></span></label></div>
        </div>
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon amber"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg></span> Navigation & Feedback</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Voice Guidance</strong><small>Announce navigation changes aloud</small></div><label class="a11y-switch"><input type="checkbox" id="a11yVoice"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Icon Labels</strong><small>Show text labels alongside icons</small></div><label class="a11y-switch"><input type="checkbox" id="a11yIconLabels"><span class="a11y-slider"></span></label></div>
          <div class="a11y-option"><div class="a11y-option-info"><strong>Confirmation Prompts</strong><small>Ask before critical actions</small></div><label class="a11y-switch"><input type="checkbox" id="a11yConfirm"><span class="a11y-slider"></span></label></div>
        </div>
        <div class="a11y-section"><h4 class="a11y-section-title"><span class="a11y-icon red"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg></span> Emergency</h4>
          <div class="a11y-option"><div class="a11y-option-info"><strong>One-Tap Emergency</strong><small>Show quick emergency shortcut button</small></div><label class="a11y-switch"><input type="checkbox" id="a11yEmergency"><span class="a11y-slider"></span></label></div>
          <button id="a11yEmergencyAction" class="a11y-emergency-btn" style="display:none;"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg> Send Emergency Alert</button>
        </div>
      </div>
      <div class="a11y-panel-footer"><button id="a11yResetBtn" class="a11y-reset-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg> Reset All Settings</button></div>
    </div>
  </body>
</html>
